/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,s)=>{"use strict";s.r(t);var n=s("./src/js/data/config.js"),r=s("./src/js/utils/detector.js"),o=s("./src/js/app/main.js");s("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),n.default.isDev=!0,function(){if(r.default.webgl){document.getElementById("appContainer");(new o.default).render(20,0)}else r.default.addGetWebGLMessage()}()},"./src/js/app/main.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s("./node_modules/three/build/three.module.js"),r=s("./src/js/components/camera.js"),o=s("./src/js/components/lights.js"),i=s("./src/js/components/renderer.js"),a=s("./src/js/components/fog.js"),l=s("./src/js/components/controls.js"),c=s("./src/js/components/Train/Train.js");const d=new n.Clock;class h{constructor(){this.camera=(0,r.createCamera)(),this.camera.lookAt(new n.Vector3(5e3,200,2e4)),this.renderer=(0,i.createRenderer)(),this.scene=new n.Scene;const e=16777215;this.light=(0,o.createLights)(e,4),this.scene.add(this.light.target),this.scene.add(this.light,new n.AmbientLight(e,.5));let t=new n.Color("lightblue");this.scene.background=t,this.scene.fog=(0,a.createFog)(t,15e3,25e3),(0,l.createControls)(this.camera,this.renderer,this.light);const s=new c.Train;this.train=s,this.scene.add(s),this.render=this.render.bind(this)}render(e,t){this.renderer.setAnimationLoop((()=>{const t=-5e-4*e;this.train.rotation.y+=t,this.train.tick(d.getDelta()),this.renderer.render(this.scene,this.camera)}))}}},"./src/js/components/Train/Train.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{Train:()=>i});var n=s("./node_modules/three/build/three.module.js"),r=(s("./src/js/components/Train/geometries.js"),s("./src/js/components/Train/materials.js"),s("./src/js/components/Train/meshes.js"));const o=n.MathUtils.degToRad(24);class i extends n.Group{constructor(){super(),this.meshes=(0,r.createMeshes)(),this.add(this.meshes.face,this.meshes.nose,this.meshes.cabin,this.meshes.chimney,this.meshes.smallWheelRear,this.meshes.smallWheelCenter,this.meshes.smallWheelFront,this.meshes.bigWheel),this.wheels=[this.meshes.smallWheelRear,this.meshes.smallWheelCenter,this.meshes.smallWheelFront,this.meshes.bigWheel]}tick(e){this.wheels.forEach((t=>{t.rotation.y+=o*e}))}}},"./src/js/components/Train/geometries.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createGeometries:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.BoxBufferGeometry(2,2.25,1.5),t=new n.CylinderBufferGeometry(.75,.75,3,12),s=new n.CircleGeometry(.75,12);return{cabin:e,nose:t,wheel:new n.CylinderBufferGeometry(.4,.4,1.75,16),chimney:new n.CylinderBufferGeometry(.3,.1,.5),face:s}}},"./src/js/components/Train/materials.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMaterials:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.MeshStandardMaterial({color:"cyan",flatShading:!0}),t=new n.MeshStandardMaterial({color:"lightGray",flatShading:!0}),s=(new n.TextureLoader).load("thomas.png");s.repeat.set(.77,.77),s.offset.set(.12,.12);return{body:e,detail:t,face:new n.MeshStandardMaterial({map:s,flatShading:!0})}}},"./src/js/components/Train/meshes.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMeshes:()=>i});var n=s("./node_modules/three/build/three.module.js"),r=s("./src/js/components/Train/geometries.js"),o=s("./src/js/components/Train/materials.js");function i(){const e=(0,r.createGeometries)(),t=(0,o.createMaterials)(),s=new n.Mesh(e.cabin,t.body);s.position.set(1.5,1.4,0);const i=new n.Mesh(e.chimney,t.detail);i.position.set(-2,1.9,0);const a=new n.Mesh(e.nose,t.body);a.position.set(-1,1,0),a.rotation.z=Math.PI/2;const l=new n.Mesh(e.face,t.face);l.position.set(-2.51,1,0),l.rotation.y=-Math.PI/2;const c=new n.Mesh(e.wheel,t.detail);c.position.y=.5,c.rotation.x=Math.PI/2;const d=c.clone();d.position.x=-1;const h=c.clone();h.position.x=-2;const m=c.clone();return m.position.set(1.5,.9,0),m.scale.set(2,1.25,2),{face:l,nose:a,cabin:s,chimney:i,smallWheelRear:c,smallWheelCenter:d,smallWheelFront:h,bigWheel:m}}},"./src/js/components/camera.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createCamera:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,300);return e.position.set(5,2,10),e}},"./src/js/components/controls.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createControls:()=>i});var n=s("./node_modules/three/examples/jsm/controls/OrbitControls.js"),r=s("../node_modules/three/examples/jsm/libs/lil-gui.module.min.js"),o=s("./src/js/utils/ColorGUIHelper.js");function i(e,t,s){const i=new n.OrbitControls(e,t.domElement);i.target.set(0,5,0),i.update();const a=new r.GUI;a.addColor(new o.default(s,"color"),"value").name("color"),a.add(s,"intensity",0,2,.01)}},"./src/js/components/fog.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createFog:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(e,t,s){return new n.Fog(e,t,s)}},"./src/js/components/lights.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createLights:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(e,t){const s=new n.DirectionalLight(e,t);return s.position.set(-10,10,10),s}},"./src/js/components/renderer.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createRenderer:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.WebGLRenderer({antialising:!0});return e.setSize(window.innerWidth,window.innerHeight),e.physicallyCorrectLights=!0,e.setPixelRatio(2),e.shadowMapEnabled=!0,document.body.append(e.domElement),e}},"./src/js/data/config.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const n={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:s("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!0,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/ColorGUIHelper.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});class n{constructor(e,t){this.object=e,this.prop=t}get value(){return`#${this.object[this.prop].getHexString()}`}set value(e){this.object[this.prop].set(e)}}},"./src/js/utils/detector.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,s,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,s=void 0!==e.id?e.id:"oldie",(n=this.getWebGLErrorMessage()).id=s,t.appendChild(n)}}},"./src/css/app.scss":(e,t,s)=>{"use strict";s.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9UcmFpbi9UcmFpbi5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVHJhaW4vZ2VvbWV0cmllcy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVHJhaW4vbWF0ZXJpYWxzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9UcmFpbi9tZXNoZXMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL2ZvZy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvbGlnaHRzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2RhdGEvY29uZmlnLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvQ29sb3JHVUlIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9kZXRlY3Rvci5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiQ29uZmlnIiwiRGV0ZWN0b3IiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiVGV4dHVyZSIsInJlbmRlciIsImluaXQiLCJjbG9jayIsIlRIUkVFIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY2FtZXJhIiwiY3JlYXRlQ2FtZXJhIiwibG9va0F0IiwicmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsInNjZW5lIiwiY29sb3IiLCJsaWdodCIsImNyZWF0ZUxpZ2h0cyIsImFkZCIsInRhcmdldCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJmb2ciLCJjcmVhdGVGb2ciLCJjcmVhdGVDb250cm9scyIsInRyYWluIiwiVHJhaW4iLCJiaW5kIiwidGltZSIsImkiLCJzZXRBbmltYXRpb25Mb29wIiwieFNwZCIsInJvdGF0aW9uIiwieSIsInRpY2siLCJnZXREZWx0YSIsIndoZWVsU3BlZWQiLCJNYXRoVXRpbHMiLCJHcm91cCIsInN1cGVyIiwibWVzaGVzIiwiY3JlYXRlTWVzaGVzIiwiZmFjZSIsIm5vc2UiLCJjYWJpbiIsImNoaW1uZXkiLCJzbWFsbFdoZWVsUmVhciIsInNtYWxsV2hlZWxDZW50ZXIiLCJzbWFsbFdoZWVsRnJvbnQiLCJiaWdXaGVlbCIsIndoZWVscyIsImRlbHRhIiwiZm9yRWFjaCIsIndoZWVsIiwiY3JlYXRlR2VvbWV0cmllcyIsIkJveEJ1ZmZlckdlb21ldHJ5IiwiQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSIsIkNpcmNsZUdlb21ldHJ5IiwiY3JlYXRlTWF0ZXJpYWxzIiwiYm9keSIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiZmxhdFNoYWRpbmciLCJkZXRhaWwiLCJ0ZXh0dXJlIiwiVGV4dHVyZUxvYWRlciIsImxvYWQiLCJyZXBlYXQiLCJzZXQiLCJvZmZzZXQiLCJtYXAiLCJnZW9tZXRyaWVzIiwibWF0ZXJpYWxzIiwiTWVzaCIsInBvc2l0aW9uIiwieiIsIk1hdGgiLCJQSSIsIngiLCJjbG9uZSIsInNjYWxlIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjb250cm9scyIsIk9yYml0Q29udHJvbHMiLCJkb21FbGVtZW50IiwidXBkYXRlIiwiZ3VpIiwiR1VJIiwiYWRkQ29sb3IiLCJDb2xvckdVSUhlbHBlciIsIm5hbWUiLCJuZWFyIiwiZmFyIiwiRm9nIiwiaW50ZW5zaXR5IiwiRGlyZWN0aW9uYWxMaWdodCIsIldlYkdMUmVuZGVyZXIiLCJhbnRpYWxpc2luZyIsInNldFNpemUiLCJwaHlzaWNhbGx5Q29ycmVjdExpZ2h0cyIsInNldFBpeGVsUmF0aW8iLCJzaGFkb3dNYXBFbmFibGVkIiwiYXBwZW5kIiwiaXNEZXYiLCJpc1Nob3dpbmdTdGF0cyIsImlzTG9hZGVkIiwiaXNUd2VlbmluZyIsImlzUm90YXRpbmciLCJpc01vdXNlTW92aW5nIiwiaXNNb3VzZU92ZXIiLCJtYXhBbmlzb3Ryb3B5IiwiZHByIiwiZWFzaW5nIiwiVFdFRU4iLCJkdXJhdGlvbiIsIm1vZGVsIiwic2VsZWN0ZWQiLCJpbml0aWFsVHlwZXMiLCJ0eXBlIiwibW9kZWxzIiwicGF0aCIsImltYWdlRmlsZXMiLCJpbWFnZSIsIm1lc2giLCJlbmFibGVIZWxwZXIiLCJ3aXJlZnJhbWUiLCJ0cmFuc2x1Y2VudCIsIm1hdGVyaWFsIiwiZW1pc3NpdmUiLCJmb3YiLCJhc3BlY3QiLCJwb3NYIiwicG9zWSIsInBvc1oiLCJhdXRvUm90YXRlIiwiYXV0b1JvdGF0ZVNwZWVkIiwicm90YXRlU3BlZWQiLCJ6b29tU3BlZWQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwibWluUG9sYXJBbmdsZSIsIm1heFBvbGFyQW5nbGUiLCJtaW5BemltdXRoQW5nbGUiLCJJbmZpbml0eSIsIm1heEF6aW11dGhBbmdsZSIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwiZW5hYmxlWm9vbSIsImFtYmllbnRMaWdodCIsImVuYWJsZWQiLCJkaXJlY3Rpb25hbExpZ2h0Iiwic2hhZG93IiwiaGVscGVyRW5hYmxlZCIsImJpYXMiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsInBvaW50TGlnaHQiLCJkaXN0YW5jZSIsImhlbWlMaWdodCIsImdyb3VuZENvbG9yIiwib2JqZWN0IiwicHJvcCIsImdldEhleFN0cmluZyIsImhleFN0cmluZyIsImNhbnZhcyIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsIndlYmdsIiwiY3JlYXRlRWxlbWVudCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJlIiwid29ya2VycyIsIldvcmtlciIsImZpbGVhcGkiLCJGaWxlIiwiRmlsZVJlYWRlciIsIkZpbGVMaXN0IiwiQmxvYiIsImdldFdlYkdMRXJyb3JNZXNzYWdlIiwiZWxlbWVudCIsImlkIiwic3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwicGFkZGluZyIsIndpZHRoIiwibWFyZ2luIiwiaW5uZXJIVE1MIiwiam9pbiIsImFkZEdldFdlYkdMTWVzc2FnZSIsInBhcmFtZXRlcnMiLCJwYXJlbnQiLCJ1bmRlZmluZWQiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6IjtpU0FTRUEsUUFBUUMsSUFBSSwyQ0FFWkMsaUJBQWUsRUFHakIsV0FFRSxHQUFJQyxnQkFFRyxDQUNhQyxTQUFTQyxlQUFlLGlCQUMvQixJQUFJQyxXQUNWQyxPQUFPLEdBQUksUUFKaEJKLCtCQVFKSyxJLHNXQ2RBLE1BQU1DLEVBQVEsSUFBSUMsUUFJSCxNQUFNSixFQUNqQkssY0FJSUMsS0FBS0MsUUFBU0Ms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RStILE9BQXVCYyxJQUFsQkYsRUFBV1osR0FBbUJZLEVBQVdaLEdBQUssU0FFbkRELEVBQVVqTCxLQUFLZ0wsd0JBQ1BFLEdBQUtBLEVBRWJhLEVBQU9FLFlBQVloQixNIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbmZpZyBmcm9tICcuL2RhdGEvY29uZmlnJztcbmltcG9ydCBEZXRlY3RvciBmcm9tICcuL3V0aWxzL2RldGVjdG9yJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vYXBwL21haW4nO1xuXG4vLyBTdHlsZXNcbmltcG9ydCAnLi8uLi9jc3MvYXBwLnNjc3MnO1xuXG4vLyBDaGVjayBlbnZpcm9ubWVudCBhbmQgc2V0IHRoZSBDb25maWcgaGVscGVyXG5pZihfX0VOVl9fID09PSAnZGV2Jykge1xuICBjb25zb2xlLmxvZygnLS0tLS0gUlVOTklORyBJTiBERVYgRU5WSVJPTk1FTlQhIC0tLS0tJyk7XG5cbiAgQ29uZmlnLmlzRGV2ID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgLy8gQ2hlY2sgZm9yIHdlYkdMIGNhcGFiaWxpdGllc1xuICBpZighRGV0ZWN0b3Iud2ViZ2wpIHtcbiAgICBEZXRlY3Rvci5hZGRHZXRXZWJHTE1lc3NhZ2UoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwQ29udGFpbmVyJyk7XG4gICAgbGV0IGhhbmsgPSBuZXcgVGV4dHVyZSgpO1xuICAgIGhhbmsucmVuZGVyKDIwLCAwKVxuICB9XG59XG5cbmluaXQoKTtcbiIsIi8vIEdsb2JhbCBpbXBvcnRzIC1cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7QnVmZmVyR2VvbWV0cnlVdGlsc30gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3V0aWxzL0J1ZmZlckdlb21ldHJ5VXRpbHMuanMnXG5pbXBvcnQge2NyZWF0ZUNhbWVyYX0gZnJvbSAnLi4vY29tcG9uZW50cy9jYW1lcmEuanMnXG5pbXBvcnQge2NyZWF0ZUxpZ2h0c30gZnJvbSAnLi4vY29tcG9uZW50cy9saWdodHMuanMnXG5pbXBvcnQge2NyZWF0ZVJlbmRlcmVyfSBmcm9tICcuLi9jb21wb25lbnRzL3JlbmRlcmVyLmpzJ1xuaW1wb3J0IHsgY3JlYXRlRm9nfSBmcm9tICcuLi9jb21wb25lbnRzL2ZvZy5qcydcbmltcG9ydCB7Y3JlYXRlQ29udHJvbHN9IGZyb20gJy4uL2NvbXBvbmVudHMvY29udHJvbHMuanMnXG5pbXBvcnQgeyBUcmFpbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhaW4vVHJhaW4uanMnXG5cblxuY29uc3QgY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKVxuXG5cbi8vIFRoaXMgY2xhc3MgaW5zdGFudGlhdGVzIGFuZCB0aWVzIGFsbCBvZiB0aGUgY29tcG9uZW50cyB0b2dldGhlciwgc3RhcnRzIHRoZSBsb2FkaW5nIHByb2Nlc3MgYW5kIHJlbmRlcnMgdGhlIG1haW4gbG9vcFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIHNldCB1cCBzY2VuZVxuICAgICAgICAvLyBDQU1FUkFcbiAgICAgICAgLy8gZm92LCBhc3BlY3QsIG5lYXIsIGZhclxuICAgICAgICB0aGlzLmNhbWVyYSA9IGNyZWF0ZUNhbWVyYSgpXG4gICAgICB0aGlzLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoNTAwMCwyMDAsIDIwMDAwKSlcbiAgICAgICAgLy8gU0NFTkUgJiBSRU5ERVJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKClcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG4gICAgICAgIC8vTElHSFRTXG4gICAgICAgIGNvbnN0IGNvbG9yID0gMHhGRkZGRkZcbiAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gNFxuICAgICAgICB0aGlzLmxpZ2h0ID0gY3JlYXRlTGlnaHRzKGNvbG9yLCBpbnRlbnNpdHkpXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubGlnaHQudGFyZ2V0KVxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmxpZ2h0LCBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KGNvbG9yLCAwLjUpKVxuXG4gICAgICAgIC8vQkFDS0dST1VORCAmIEZPR1xuICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCdsaWdodGJsdWUnKVxuICAgICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgdGhpcy5zY2VuZS5mb2cgPSBjcmVhdGVGb2coYmFja2dyb3VuZENvbG9yLCAxNTAwMCwgMjUwMDApXG4gICAgICAgIC8vIENPTlRST0xTXG4gICAgICAgIGNyZWF0ZUNvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLCB0aGlzLmxpZ2h0KVxuICAgICAgICAgICAvLyBzaGFwZXMgJiB0ZXh0dXJlc1xuICAgICAgICBjb25zdCB0cmFpbiA9IG5ldyBUcmFpbigpXG4gICAgICAgIHRoaXMudHJhaW4gPSB0cmFpblxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0cmFpbilcblxuICAgICAgICAvL2JpbmQgY2xhc3MgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKSAvL2JpbmQgdG8gY2xhc3MgaW5zdGVhZCBvZiB3aW5kb3cgb2JqZWN0XG5cbiAgICB9XG5cbiAgICByZW5kZXIodGltZSwgaSkge1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHhTcGQgPSB0aW1lICotMC4wMDA1XG4gICAgICAgIC8vVE9ETzogdXBkYXRlIHRvIHByb3BlciBhbmltYXRpb24gbG9vcCBwZXIgaHR0cHM6Ly9kaXNjb3ZlcnRocmVlanMuY29tL2Jvb2svZmlyc3Qtc3RlcHMvYW5pbWF0aW9uLWxvb3AvI3RpbWluZy1pbi10aGUtYW5pbWF0aW9uLXN5c3RlbVxuICAgICAgICB0aGlzLnRyYWluLnJvdGF0aW9uLnkgKz0geFNwZFxuICAgICAgICB0aGlzLnRyYWluLnRpY2soY2xvY2suZ2V0RGVsdGEoKSlcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpXG59KVxuXG5cbn1cbn1cbiIsImltcG9ydCB7IEdyb3VwLCBNYXRoVXRpbHMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGNyZWF0ZUdlb21ldHJpZXMgfSBmcm9tIFwiLi9nZW9tZXRyaWVzLmpzXCJcbmltcG9ydCB7IGNyZWF0ZU1hdGVyaWFscyB9IGZyb20gXCIuL21hdGVyaWFscy5qc1wiXG5pbXBvcnQgeyBjcmVhdGVNZXNoZXMgfSBmcm9tIFwiLi9tZXNoZXMuanNcIlxuLy9UcmFpbiBjb2RlIG1vc3RseSBsaWZ0ZWQgZnJvbSBodHRwczovL2Rpc2NvdmVydGhyZWVqcy5jb20vYm9vay9maXJzdC1zdGVwcy9idWlsdC1pbi1nZW9tZXRyaWVzL1xuXG5jb25zdCB3aGVlbFNwZWVkID0gTWF0aFV0aWxzLmRlZ1RvUmFkKDI0KVxuXG5jbGFzcyBUcmFpbiBleHRlbmRzIEdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMubWVzaGVzID0gY3JlYXRlTWVzaGVzKClcbiAgICB0aGlzLmFkZChcbiAgICAgIHRoaXMubWVzaGVzLmZhY2UsXG4gICAgICB0aGlzLm1lc2hlcy5ub3NlLFxuICAgICAgdGhpcy5tZXNoZXMuY2FiaW4sXG4gICAgICB0aGlzLm1lc2hlcy5jaGltbmV5LFxuICAgICAgdGhpcy5tZXNoZXMuc21hbGxXaGVlbFJlYXIsXG4gICAgICB0aGlzLm1lc2hlcy5zbWFsbFdoZWVsQ2VudGVyLFxuICAgICAgdGhpcy5tZXNoZXMuc21hbGxXaGVlbEZyb250LFxuICAgICAgdGhpcy5tZXNoZXMuYmlnV2hlZWxcbiAgICApXG4gICAgdGhpcy53aGVlbHMgPSBbdGhpcy5tZXNoZXMuc21hbGxXaGVlbFJlYXIsXG4gICAgICB0aGlzLm1lc2hlcy5zbWFsbFdoZWVsQ2VudGVyLFxuICAgICAgdGhpcy5tZXNoZXMuc21hbGxXaGVlbEZyb250LFxuICAgICAgdGhpcy5tZXNoZXMuYmlnV2hlZWxdXG5cbiAgfVxuICB0aWNrKGRlbHRhKSB7XG4gICAgdGhpcy53aGVlbHMuZm9yRWFjaCh3aGVlbCA9PiB7XG4gICAgICB3aGVlbC5yb3RhdGlvbi55ICs9IHdoZWVsU3BlZWQgKiBkZWx0YVxuICAgIH0pXG5cbiAgfVxufVxuXG5cbmV4cG9ydCB7IFRyYWluIH1cbiIsImltcG9ydCB7Qm94QnVmZmVyR2VvbWV0cnksIENpcmNsZUdlb21ldHJ5LCBDeWxpbmRlckJ1ZmZlckdlb21ldHJ5fSBmcm9tICd0aHJlZSdcblxuZnVuY3Rpb24gY3JlYXRlR2VvbWV0cmllcygpIHtcbiAgY29uc3QgY2FiaW4gPSBuZXcgQm94QnVmZmVyR2VvbWV0cnkoMiwgMi4yNSwgMS41KVxuICBjb25zdCBub3NlID0gbmV3IEN5bGluZGVyQnVmZmVyR2VvbWV0cnkoMC43NSwgMC43NSwgMywgMTIpXG4gIGNvbnN0IGZhY2UgPSBuZXcgQ2lyY2xlR2VvbWV0cnkoMC43NSwgMTIpXG5cbiAgLy8gVE9ETyBhZGQgY2lyY2xlIGZvciB0aG9tYXMgdGhlIHRhbmsgZW5naW5lXG4gIGNvbnN0IHdoZWVsID0gbmV3IEN5bGluZGVyQnVmZmVyR2VvbWV0cnkoMC40LCAwLjQsIDEuNzUsIDE2KVxuICBjb25zdCBjaGltbmV5ID0gbmV3IEN5bGluZGVyQnVmZmVyR2VvbWV0cnkoMC4zLCAwLjEsIDAuNSlcbiAgcmV0dXJuIHtcbiAgICBjYWJpbixcbiAgICBub3NlLFxuICAgIHdoZWVsLFxuICAgIGNoaW1uZXksXG4gICAgZmFjZVxuICB9XG5cbn1cblxuZXhwb3J0IHsgY3JlYXRlR2VvbWV0cmllcyB9XG4iLCJpbXBvcnQgeyBNZXNoU3RhbmRhcmRNYXRlcmlhbCwgVGV4dHVyZUxvYWRlciB9IGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBjcmVhdGVNYXRlcmlhbHMoKSB7XG4gIGNvbnN0IGJvZHkgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAnY3lhbicsXG4gICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgfSlcbiAgY29uc3QgZGV0YWlsID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICBjb2xvcjogJ2xpZ2h0R3JheScsXG4gICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgfSlcblxuICBjb25zdCBsb2FkZXIgPSBuZXcgVGV4dHVyZUxvYWRlcigpXG4gIGNvbnN0IHRleHR1cmU9ICBsb2FkZXIubG9hZCgndGhvbWFzLnBuZycpXG4gIHRleHR1cmUucmVwZWF0LnNldCgwLjc3LCAwLjc3KVxuICB0ZXh0dXJlLm9mZnNldC5zZXQoMC4xMiwgMC4xMilcbiAgY29uc3QgZmFjZSA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgbWFwOiB0ZXh0dXJlLFxuICAgIGZsYXRTaGFkaW5nOiB0cnVlXG4gIH0pXG4gIHJldHVybiB7IGJvZHksIGRldGFpbCwgZmFjZX1cbn1cblxuZXhwb3J0IHsgY3JlYXRlTWF0ZXJpYWxzIH1cbiIsImltcG9ydCB7IE1lc2ggfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGNyZWF0ZUdlb21ldHJpZXMgfSBmcm9tICcuL2dlb21ldHJpZXMuanMnXG5pbXBvcnQgeyBjcmVhdGVNYXRlcmlhbHMgfSBmcm9tICcuL21hdGVyaWFscy5qcydcblxuZnVuY3Rpb24gY3JlYXRlTWVzaGVzKCkge1xuICBjb25zdCBnZW9tZXRyaWVzID0gY3JlYXRlR2VvbWV0cmllcygpO1xuICBjb25zdCBtYXRlcmlhbHMgPSBjcmVhdGVNYXRlcmlhbHMoKVxuXG4gIGNvbnN0IGNhYmluID0gbmV3IE1lc2goZ2VvbWV0cmllcy5jYWJpbiwgbWF0ZXJpYWxzLmJvZHkpXG4gIGNhYmluLnBvc2l0aW9uLnNldCgxLjUsIDEuNCwgMClcblxuICBjb25zdCBjaGltbmV5ID0gbmV3IE1lc2goZ2VvbWV0cmllcy5jaGltbmV5LCBtYXRlcmlhbHMuZGV0YWlsKVxuICBjaGltbmV5LnBvc2l0aW9uLnNldCgtMiwgMS45LCAwKVxuXG4gIGNvbnN0IG5vc2UgPSBuZXcgTWVzaCAoZ2VvbWV0cmllcy5ub3NlLCBtYXRlcmlhbHMuYm9keSlcbiAgbm9zZS5wb3NpdGlvbi5zZXQoLTEsIDEsIDApXG4gIG5vc2Uucm90YXRpb24ueiA9IE1hdGguUEkgLyAyXG4gIGNvbnN0IGZhY2UgPSBuZXcgTWVzaChnZW9tZXRyaWVzLmZhY2UsIG1hdGVyaWFscy5mYWNlKVxuICBmYWNlLnBvc2l0aW9uLnNldCgtMi41MSwgMSwgMClcbiAgZmFjZS5yb3RhdGlvbi55ID0gLSBNYXRoLlBJIC8gMlxuXG4gIGNvbnN0IHNtYWxsV2hlZWxSZWFyID0gbmV3IE1lc2goZ2VvbWV0cmllcy53aGVlbCwgbWF0ZXJpYWxzLmRldGFpbClcbiAgc21hbGxXaGVlbFJlYXIucG9zaXRpb24ueSA9IDAuNVxuICBzbWFsbFdoZWVsUmVhci5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDJcblxuICBjb25zdCBzbWFsbFdoZWVsQ2VudGVyID0gc21hbGxXaGVlbFJlYXIuY2xvbmUoKTtcbiAgc21hbGxXaGVlbENlbnRlci5wb3NpdGlvbi54ID0gLTE7XG5cbiAgY29uc3Qgc21hbGxXaGVlbEZyb250ID0gc21hbGxXaGVlbFJlYXIuY2xvbmUoKTtcbiAgc21hbGxXaGVlbEZyb250LnBvc2l0aW9uLnggPSAtMjtcblxuICBjb25zdCBiaWdXaGVlbCA9IHNtYWxsV2hlZWxSZWFyLmNsb25lKCk7XG4gIGJpZ1doZWVsLnBvc2l0aW9uLnNldCgxLjUsIDAuOSwgMCk7XG4gIGJpZ1doZWVsLnNjYWxlLnNldCgyLCAxLjI1LCAyKTtcblxuICByZXR1cm4ge1xuICAgIGZhY2UsXG4gICAgbm9zZSxcbiAgICBjYWJpbixcbiAgICBjaGltbmV5LFxuICAgIHNtYWxsV2hlZWxSZWFyLFxuICAgIHNtYWxsV2hlZWxDZW50ZXIsXG4gICAgc21hbGxXaGVlbEZyb250LFxuICAgIGJpZ1doZWVsXG4gIH1cbn1cbmV4cG9ydCB7IGNyZWF0ZU1lc2hlcyB9XG4iLCJpbXBvcnQgeyBQZXJzcGVjdGl2ZUNhbWVyYSB9IGZyb20gJ3RocmVlJ1xuLy9UT0RPIGFjdHVhbGx5IGFkZCBhcmdzL21ha2UgdGhpcyBnb29kXG5mdW5jdGlvbiBjcmVhdGVDYW1lcmEoKSB7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDYwLCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAzMDApO1xuICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoNSwgMiwgMTApXG4gICAgcmV0dXJuIGNhbWVyYVxufVxuZXhwb3J0IHtjcmVhdGVDYW1lcmF9XG5cbiIsImltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scy5qcyc7XG5pbXBvcnQgeyBHVUkgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbGlicy9saWwtZ3VpLm1vZHVsZS5taW4uanMnXG5pbXBvcnQgQ29sb3JHVUlIZWxwZXIgZnJvbSAnLi4vdXRpbHMvQ29sb3JHVUlIZWxwZXIuanMnXG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xzKGNhbWVyYSwgcmVuZGVyZXIsIGxpZ2h0KSB7XG4gICAvLyBjYW1lcmFcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KVxuICAgICAgICBjb250cm9scy50YXJnZXQuc2V0KDAsIDUsIDApXG4gICAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpXG4gICAgICAgIC8vbGlnaHQgZ3VpXG4gICAgICAgIGNvbnN0IGd1aSA9IG5ldyBHVUkoKVxuICAgICAgICBndWkuYWRkQ29sb3IobmV3IENvbG9yR1VJSGVscGVyKGxpZ2h0LCAnY29sb3InKSwgJ3ZhbHVlJykubmFtZSgnY29sb3InKVxuICAgICAgICBndWkuYWRkKGxpZ2h0LCAnaW50ZW5zaXR5JywgMCwgMiwgMC4wMSlcbn1cblxuZXhwb3J0IHtjcmVhdGVDb250cm9sc31cbiIsImltcG9ydCB7IEZvZyB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlRm9nKGJhY2tncm91bmRDb2xvciwgbmVhciwgZmFyKSB7XG4gICAgICByZXR1cm4gbmV3IEZvZyhiYWNrZ3JvdW5kQ29sb3IsIG5lYXIsIGZhcik7XG59XG5cbmV4cG9ydCB7Y3JlYXRlRm9nfVxuIiwiaW1wb3J0IHsgRGlyZWN0aW9uYWxMaWdodCB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlTGlnaHRzKGNvbG9yLCBpbnRlbnNpdHkpIHtcbiAgICAgICAgY29uc3QgbGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodChjb2xvciwgaW50ZW5zaXR5KTtcbiAgICAgICAgbGlnaHQucG9zaXRpb24uc2V0KC0xMCwgMTAsIDEwKVxuICAgICAgICByZXR1cm4gbGlnaHRcbn1cbmV4cG9ydCB7Y3JlYXRlTGlnaHRzfVxuXG4iLCJpbXBvcnQgIHsgV2ViR0xSZW5kZXJlciB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe2FudGlhbGlzaW5nOiB0cnVlfSk7XG4gIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbiAgcmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbygyLjApXG4gICAgICByZW5kZXJlci5zaGFkb3dNYXBFbmFibGVkID0gdHJ1ZVxuICAgICAgICAvL2NhbWVyYSBoZWxwZXIsIGlmIG5lZWRlZFxuLy8gICAgICAgIHRoaXMuc2NlbmUuYWRkKG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5jYW1lcmEpKVxuICAgICAgICAvL2RvIG5vdCBldmVyIGRlbGV0ZSBtZVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChyZW5kZXJlci5kb21FbGVtZW50KVxuICAgIHJldHVybiByZW5kZXJlclxuXG59XG5leHBvcnQge2NyZWF0ZVJlbmRlcmVyfVxuIiwiaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcblxuLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHN0YXRlIG9mIHRoZSBhcHBcbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNEZXY6IGZhbHNlLFxuICBpc1Nob3dpbmdTdGF0czogdHJ1ZSxcbiAgaXNMb2FkZWQ6IGZhbHNlLFxuICBpc1R3ZWVuaW5nOiBmYWxzZSxcbiAgaXNSb3RhdGluZzogdHJ1ZSxcbiAgaXNNb3VzZU1vdmluZzogZmFsc2UsXG4gIGlzTW91c2VPdmVyOiBmYWxzZSxcbiAgbWF4QW5pc290cm9weTogMSxcbiAgZHByOiAxLFxuICBlYXNpbmc6IFRXRUVOLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsXG4gIGR1cmF0aW9uOiA1MDAsXG4gIG1vZGVsOiB7XG4gICAgc2VsZWN0ZWQ6IDAsXG4gICAgaW5pdGlhbFR5cGVzOiBbJ2dsdGYnLCAnb2JqZWN0J10sXG4gICAgdHlwZTogJ2dsdGYnXG4gIH0sXG4gIG1vZGVsczogW1xuICAgIHtcbiAgICAgIHBhdGg6ICcuL2Fzc2V0cy9tb2RlbHMvZHVjay5nbHRmJyxcbiAgICAgIHNjYWxlOiAyMCxcbiAgICAgIHR5cGU6ICdnbHRmJ1xuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogJy4vYXNzZXRzL21vZGVscy9UZWFwb3QuanNvbicsXG4gICAgICBzY2FsZTogMjAsXG4gICAgICB0eXBlOiAnb2JqZWN0J1xuICAgIH1cbiAgXSxcbiAgdGV4dHVyZToge1xuICAgIHBhdGg6ICcuL2Fzc2V0cy90ZXh0dXJlcy8nLFxuICAgIGltYWdlRmlsZXM6IFtcbiAgICAgIHsgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfVxuICAgIF1cbiAgfSxcbiAgbWVzaDoge1xuICAgIGVuYWJsZUhlbHBlcjogdHJ1ZSxcbiAgICB3aXJlZnJhbWU6IGZhbHNlLFxuICAgIHRyYW5zbHVjZW50OiBmYWxzZSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXG4gICAgfVxuICB9LFxuICBmb2c6IHtcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgbmVhcjogMC4wMDA4XG4gIH0sXG4gIGNhbWVyYToge1xuICAgIGZvdjogNDAsXG4gICAgbmVhcjogMixcbiAgICBmYXI6IDEwMDAsXG4gICAgYXNwZWN0OiAxLFxuICAgIHBvc1g6IDAsXG4gICAgcG9zWTogMzAsXG4gICAgcG9zWjogNDBcbiAgfSxcbiAgY29udHJvbHM6IHtcbiAgICBhdXRvUm90YXRlOiB0cnVlLFxuICAgIGF1dG9Sb3RhdGVTcGVlZDogLTAuNSxcbiAgICByb3RhdGVTcGVlZDogMC41LFxuICAgIHpvb21TcGVlZDogMC44LFxuICAgIG1pbkRpc3RhbmNlOiAyMDAsXG4gICAgbWF4RGlzdGFuY2U6IDYwMCxcbiAgICBtaW5Qb2xhckFuZ2xlOiBNYXRoLlBJIC8gNSxcbiAgICBtYXhQb2xhckFuZ2xlOiBNYXRoLlBJIC8gMixcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhBemltdXRoQW5nbGU6IEluZmluaXR5LFxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxuICAgIGVuYWJsZVpvb206IHRydWUsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDBcbiAgICB9XG4gIH0sXG4gIGFtYmllbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4MTQxNDE0XG4gIH0sXG4gIGRpcmVjdGlvbmFsTGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweGYwZjBmMCxcbiAgICBpbnRlbnNpdHk6IDAuNCxcbiAgICB4OiAtNzUsXG4gICAgeTogMjgwLFxuICAgIHo6IDE1MFxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGhlbHBlckVuYWJsZWQ6IHRydWUsXG4gICAgYmlhczogMCxcbiAgICBtYXBXaWR0aDogMjA0OCxcbiAgICBtYXBIZWlnaHQ6IDIwNDgsXG4gICAgbmVhcjogMjUwLFxuICAgIGZhcjogNDAwLFxuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAtMTAwLFxuICAgIGxlZnQ6IC0xMDBcbiAgfSxcbiAgcG9pbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC4zNCxcbiAgICBkaXN0YW5jZTogMTE1LFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB6OiAwXG4gIH0sXG4gIGhlbWlMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4YzhjOGM4LFxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcbiAgICBpbnRlbnNpdHk6IDAuNTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yR1VJSGVscGVyIHtcbiAgICAgIGNvbnN0cnVjdG9yKG9iamVjdCwgcHJvcCkge1xuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgIH1cbiAgICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGAjJHt0aGlzLm9iamVjdFt0aGlzLnByb3BdLmdldEhleFN0cmluZygpfWA7XG4gICAgICB9XG4gICAgICBzZXQgdmFsdWUoaGV4U3RyaW5nKSB7XG4gICAgICAgIHRoaXMub2JqZWN0W3RoaXMucHJvcF0uc2V0KGhleFN0cmluZyk7XG4gICAgICB9XG59XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxuICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuICAgIGlmKCF0aGlzLndlYmdsKSB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgIF0uam9pbignXFxuJykgOiBbXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgcGFyZW50ID0gcGFyYW1ldGVycy5wYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMucGFyZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcbiAgICBlbGVtZW50LmlkID0gaWQ7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9