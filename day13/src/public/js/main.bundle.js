/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,n)=>{"use strict";n.r(t);var r=n("./src/js/data/config.js"),o=(n("./src/js/utils/detector.js"),n("./src/js/app/main.js")),s=n("./node_modules/react/index.js"),a=n("./node_modules/react-dom/index.js"),i=n("./src/js/components/React/TextForm.js");n("./src/css/assets/main.css");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),r.default.isDev=!0;var m="A Squid Eating Dough In A PolyEthylene Bag",g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(c,e);var t,n,r,a=d(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={value:m},t.three,t.handleChange=t.handleChange.bind(h(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.three=new o.default(this.state.value),this.three.render(20)}},{key:"handleChange",value:function(e){var t=this;console.log("new val: ",e.target.value),this.setState({value:e.target.value},(function(){t.three.updateText(t.state.value)}))}},{key:"render",value:function(){return s.createElement("div",{className:"grid grid-cols-1"},s.createElement(i.default,{handleChange:this.handleChange,value:this.state.value}))}}])&&l(t.prototype,n),r&&l(t,r),c}(s.Component),b=document.getElementById("root");a.render(s.createElement(g,{value:m}),b)},"./src/js/app/main.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n("./node_modules/three/build/three.module.js"),o=n("./src/js/components/Three/camera.js"),s=n("./src/js/components/Three/lights.js"),a=n("./src/js/components/Three/renderer.js"),i=(n("./src/js/components/Three/fog.js"),n("./src/js/components/Three/controls.js")),c=n("./src/js/components/Three/createText.js"),l=n("./node_modules/three/examples/fonts/helvetiker_regular.typeface.json");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera=(0,o.createCamera)(),this.renderer=(0,a.createRenderer)(),this.scene=new r.Scene;var n=16777215;this.light=(0,s.createLights)(n,1.3),this.scene.add(this.light.target),this.scene.add(this.light,new r.AmbientLight(n,.25));var u=new r.Color(16777215);this.scene.background=u,(0,i.createControls)(this.camera,this.renderer,this.light),this.text=(0,c.createText)(t,l),this.scene.add(this.text),this.render=this.render.bind(this)}var t,n,d;return t=e,(n=[{key:"updateText",value:function(e){console.log("newText: ",e),this.text.geometry.dispose(),this.text.material.dispose(),this.scene.remove(this.text),this.text=(0,c.createText)(e,l),this.scene.add(this.text),this.text.position.set(-150,500,0)}},{key:"render",value:function(e,t){var n=this;this.renderer.setAnimationLoop((function(){(0,c.lerpColor)(n.text,e),n.text.material.needsUpdate=!0,n.renderer.render(n.scene,n.camera)}))}}])&&u(t.prototype,n),d&&u(t,d),e}()},"./src/js/components/React/TextForm.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n("./node_modules/react/index.js");n("./node_modules/react-dom/index.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}console.log("ping");var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,o,c=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=c.call(this,e),console.log("props: ",e),t.handleChange=t.handleChange.bind(l(t)),t.handleSubmit=t.handleSubmit.bind(l(t)),t}return t=u,(n=[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return r.createElement("form",{onSubmit:this.handleSubmit,className:"grid place-items-center justify-items-center text-xl"},r.createElement("input",{className:"flex grow border-black w-1/2 block bg-white border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 text-center",type:"text",value:this.props.value,onChange:this.handleChange}))}}])&&s(t.prototype,n),o&&s(t,o),u}(r.Component)},"./src/js/components/Three/camera.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createCamera:()=>o});var r=n("./node_modules/three/build/three.module.js");function o(){var e=new r.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,3e4);return e.position.set(1673,-19,2015),e}},"./src/js/components/Three/controls.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createControls:()=>a});var r=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),o=n("../node_modules/three/examples/jsm/libs/lil-gui.module.min.js"),s=n("./src/js/utils/ColorGUIHelper.js");function a(e,t,n){var a=new r.OrbitControls(e,t.domElement);a.target.set(0,5,0),a.update();var i=new o.GUI;i.addColor(new s.default(n,"color"),"value").name("color"),i.add(n,"intensity",0,2,.01)}},"./src/js/components/Three/createText.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createText:()=>l,lerpColor:()=>u});var r=n("./node_modules/three/build/three.module.js"),o=n("./node_modules/randomcolor/randomColor.js"),s=n.n(o),a=new r.FontLoader,i=new r.Color,c=new r.Color;function l(e,t){t=a.parse(t),console.log("font: ",t);var n=new r.TextGeometry(e,{font:t});n.center();var o=new r.MeshBasicMaterial({color:c});return new r.Mesh(n,o)}function u(e,t){Math.round(100*e.material.color.r)/100!=Math.round(100*i.r)/100&&20!=t||(i=new r.Color(s()({format:"rgb"}))),e.material.color.set(c.lerpColors(e.material.color,i,.03)),t*=5e-4,e.rotation.y+=t}},"./src/js/components/Three/fog.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createFog:()=>o});var r=n("./node_modules/three/build/three.module.js");function o(e,t,n){return new r.Fog(e,t,n)}},"./src/js/components/Three/lights.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createLights:()=>o});var r=n("./node_modules/three/build/three.module.js");function o(e,t){var n=new r.DirectionalLight(e,t);return n.position.setScalar(1),n}},"./src/js/components/Three/renderer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createRenderer:()=>o});var r=n("./node_modules/three/build/three.module.js");function o(){var e=new r.WebGLRenderer({antialias:!0});return e.setSize(window.innerWidth,window.innerHeight),e.physicallyCorrectLights=!0,e.shadowMapEnabled=!0,document.body.append(e.domElement),e}},"./src/js/data/config.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!0,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/ColorGUIHelper.js":(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{default:()=>o});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.prop=n}var t,n,o;return t=e,(n=[{key:"value",get:function(){return"#".concat(this.object[this.prop].getHexString())},set:function(e){this.object[this.prop].set(e)}}])&&r(t.prototype,n),o&&r(t,o),e}()},"./src/js/utils/detector.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,r;t=void 0!==(e=e||{}).parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",(r=this.getWebGLErrorMessage()).id=n,t.appendChild(r)}}}},e=>{"use strict";e.O(0,["vendors","styles"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9SZWFjdC9UZXh0Rm9ybS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVGhyZWUvY2FtZXJhLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9UaHJlZS9jb250cm9scy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVGhyZWUvY3JlYXRlVGV4dC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVGhyZWUvZm9nLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9UaHJlZS9saWdodHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL1RocmVlL3JlbmRlcmVyLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvZGF0YS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9Db2xvckdVSUhlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJkZWZhdWx0VGV4dCIsIkFwcCIsInByb3BzIiwic3RhdGUiLCJ2YWx1ZSIsInRocmVlIiwiaGFuZGxlQ2hhbmdlIiwiYmluZCIsInRoaXMiLCJUZXh0dXJlIiwicmVuZGVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJzZXRTdGF0ZSIsInVwZGF0ZVRleHQiLCJjbGFzc05hbWUiLCJDb21wb25lbnQiLCJyb290RWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiUmVhY3RET00iLCJ0ZXh0IiwiY2FtZXJhIiwiY3JlYXRlQ2FtZXJhIiwicmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsInNjZW5lIiwiVEhSRUUiLCJjb2xvciIsImxpZ2h0IiwiY3JlYXRlTGlnaHRzIiwiYWRkIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZCIsImNyZWF0ZUNvbnRyb2xzIiwiY3JlYXRlVGV4dCIsImhlbHZldGlrZXIiLCJuZXdUZXh0IiwiZ2VvbWV0cnkiLCJkaXNwb3NlIiwibWF0ZXJpYWwiLCJyZW1vdmUiLCJwb3NpdGlvbiIsInNldCIsInRpbWUiLCJpIiwic2V0QW5pbWF0aW9uTG9vcCIsImxlcnBDb2xvciIsIm5lZWRzVXBkYXRlIiwiVGV4dEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsIm9uU3VibWl0IiwidHlwZSIsIm9uQ2hhbmdlIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjb250cm9scyIsIk9yYml0Q29udHJvbHMiLCJkb21FbGVtZW50IiwidXBkYXRlIiwiZ3VpIiwiR1VJIiwiYWRkQ29sb3IiLCJDb2xvckdVSUhlbHBlciIsIm5hbWUiLCJsb2FkZXIiLCJGb250TG9hZGVyIiwiY3VycmVudEdvYWxDb2xvciIsIkNvbG9yIiwiY3VycmVudENvbG9yIiwiZm9udCIsInBhcnNlIiwiZ2VvIiwiVGV4dEdlb21ldHJ5IiwiY2VudGVyIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJNZXNoIiwidGV4dE9iaiIsIk1hdGgiLCJyb3VuZCIsInIiLCJyYW5kb21Db2xvciIsImZvcm1hdCIsImxlcnBDb2xvcnMiLCJyb3RhdGlvbiIsInkiLCJjcmVhdGVGb2ciLCJuZWFyIiwiZmFyIiwiRm9nIiwiaW50ZW5zaXR5IiwiRGlyZWN0aW9uYWxMaWdodCIsInNldFNjYWxhciIsIldlYkdMUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJzZXRTaXplIiwicGh5c2ljYWxseUNvcnJlY3RMaWdodHMiLCJzaGFkb3dNYXBFbmFibGVkIiwiYm9keSIsImFwcGVuZCIsImlzRGV2IiwiaXNTaG93aW5nU3RhdHMiLCJpc0xvYWRlZCIsImlzVHdlZW5pbmciLCJpc1JvdGF0aW5nIiwiaXNNb3VzZU1vdmluZyIsImlzTW91c2VPdmVyIiwibWF4QW5pc290cm9weSIsImRwciIsImVhc2luZyIsIlRXRUVOIiwiZHVyYXRpb24iLCJtb2RlbCIsInNlbGVjdGVkIiwiaW5pdGlhbFR5cGVzIiwibW9kZWxzIiwicGF0aCIsInNjYWxlIiwidGV4dHVyZSIsImltYWdlRmlsZXMiLCJpbWFnZSIsIm1lc2giLCJlbmFibGVIZWxwZXIiLCJ3aXJlZnJhbWUiLCJ0cmFuc2x1Y2VudCIsImVtaXNzaXZlIiwiZm9nIiwiZm92IiwiYXNwZWN0IiwicG9zWCIsInBvc1kiLCJwb3NaIiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsIm1pblBvbGFyQW5nbGUiLCJQSSIsIm1heFBvbGFyQW5nbGUiLCJtaW5BemltdXRoQW5nbGUiLCJJbmZpbml0eSIsIm1heEF6aW11dGhBbmdsZSIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwiZW5hYmxlWm9vbSIsIngiLCJ6IiwiYW1iaWVudExpZ2h0IiwiZW5hYmxlZCIsImRpcmVjdGlvbmFsTGlnaHQiLCJzaGFkb3ciLCJoZWxwZXJFbmFibGVkIiwiYmlhcyIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwicG9pbnRMaWdodCIsImRpc3RhbmNlIiwiaGVtaUxpZ2h0IiwiZ3JvdW5kQ29sb3IiLCJvYmplY3QiLCJwcm9wIiwiZ2V0SGV4U3RyaW5nIiwiaGV4U3RyaW5nIiwiY2FudmFzIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwid2ViZ2wiLCJjcmVhdGVFbGVtZW50IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0Q29udGV4dCIsImUiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJCbG9iIiwiZ2V0V2ViR0xFcnJvck1lc3NhZ2UiLCJlbGVtZW50IiwiaWQiLCJzdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwid2lkdGgiLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJqb2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyYW1ldGVycyIsInBhcmVudCIsInVuZGVmaW5lZCIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiO29uREFZRUEsUUFBUUMsSUFBSSwyQ0FFWkMsaUJBQWUsRUFHakIsSUFBTUMsRUFBYyw2Q0FFZEMsRSxzUUFDSixXQUFZQyxHQUFPLGEsNEZBQUEsVUFDakIsY0FBTUEsSUFDREMsTUFBUSxDQUFFQyxNQUFPSixHQUN0QixFQUFLSyxNQUNMLEVBQUtDLGFBQWUsRUFBS0EsYUFBYUMsS0FBbEIsTUFKSCxFLDhDQU1uQixXQUNJQyxLQUFLSCxNQUFRLElBQUlJLFVBQVFELEtBQUtMLE1BQU1DLE9BRXRDSSxLQUFLSCxNQUFNSyxPQUFPLE0sMEJBRXBCLFNBQWFDLEdBQU8sV0FDbEJkLFFBQVFDLElBQUksWUFBYWEsRUFBTUMsT0FBT1IsT0FDdENJLEtBQUtLLFNBQVMsQ0FBQ1QsTUFBT08s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TUFBTUMsV0FBYSxZQUMzQkgsRUFBUUUsTUFBTUUsU0FBVyxPQUN6QkosRUFBUUUsTUFBTUcsV0FBYSxTQUMzQkwsRUFBUUUsTUFBTUksVUFBWSxTQUMxQk4sRUFBUUUsTUFBTTVKLFdBQWEsT0FDM0IwSixFQUFRRSxNQUFNakssTUFBUSxPQUN0QitKLEVBQVFFLE1BQU1LLFFBQVUsUUFDeEJQLEVBQVFFLE1BQU1NLE1BQVEsUUFDdEJSLEVBQVFFLE1BQU1PLE9BQVMsYUFFbkI1TCxLQUFLc0ssUUFDUGEsRUFBUVUsVUFBWTdJLE9BQU93SCxzQkFBd0IsQ0FDakQsNEpBQ0EsMEZBQ0FzQixLQUFLLE1BQVEsQ0FDYixxSkFDQSwwRkFDQUEsS0FBSyxPQUdGWCxHQUdUWSxtQkFBb0IsU0FBU0MsR0FDM0IsSUFBSUMsRUFBUWIsRUFBSUQsRUFJaEJjLE9BQStCQyxLQUYvQkYsRUFBYUEsR0FBYyxJQUVQQyxPQUF1QkQsRUFBV0MsT0FBU3ZMLFNBQVNtRixLQUN4RXVGLE9BQXVCYyxJQUFsQkYsRUFBV1osR0FBbUJZLEVBQVdaLEdBQUssU0FFbkRELEVBQVVuTCxLQUFLa0wsd0JBQ1BFLEdBQUtBLEVBRWJhLEVBQU9FLFlBQVloQixPIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbmZpZyBmcm9tICcuL2RhdGEvY29uZmlnJztcbmltcG9ydCBEZXRlY3RvciBmcm9tICcuL3V0aWxzL2RldGVjdG9yJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vYXBwL21haW4nO1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgVGV4dEZvcm0gZnJvbSAnLi9jb21wb25lbnRzL1JlYWN0L1RleHRGb3JtJ1xuXG4vLyBTdHlsZXNcbmltcG9ydCAnLi4vY3NzL2Fzc2V0cy9tYWluLmNzcydcblxuLy8gQ2hlY2sgZW52aXJvbm1lbnQgYW5kIHNldCB0aGUgQ29uZmlnIGhlbHBlclxuaWYoX19FTlZfXyA9PT0gJ2RldicpIHtcbiAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpXG5cbiAgQ29uZmlnLmlzRGV2ID0gdHJ1ZVxufVxuXG5jb25zdCBkZWZhdWx0VGV4dCA9IFwiQSBTcXVpZCBFYXRpbmcgRG91Z2ggSW4gQSBQb2x5RXRoeWxlbmUgQmFnXCJcblxuY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0geyB2YWx1ZTogZGVmYXVsdFRleHQgfVxuICAgIHRoaXMudGhyZWVcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcylcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMudGhyZWUgPSBuZXcgVGV4dHVyZSh0aGlzLnN0YXRlLnZhbHVlKVxuICAgIC8vVE9ETzogc2hvdWxkIHByb2IgcmVuYW1lIHRoaXNcbiAgICB0aGlzLnRocmVlLnJlbmRlcigyMClcbiAgfVxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zb2xlLmxvZygnbmV3IHZhbDogJywgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe3ZhbHVlOiBldmVudC50YXJnZXQudmFsdWV9LCAoKSA9PiB7XG4gICAgICB0aGlzLnRocmVlLnVwZGF0ZVRleHQodGhpcy5zdGF0ZS52YWx1ZSlcbiAgICB9KVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xXCI+XG4gICAgICAgIDxUZXh0Rm9ybSBoYW5kbGVDaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfSB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZSB9Lz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgcm9vdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpXG5SZWFjdERPTS5yZW5kZXIoPEFwcCB2YWx1ZT17ZGVmYXVsdFRleHR9Lz4sIHJvb3RFbClcblxuIiwiLy8gR2xvYmFsIGltcG9ydHMgLVxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHtCdWZmZXJHZW9tZXRyeVV0aWxzfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vdXRpbHMvQnVmZmVyR2VvbWV0cnlVdGlscy5qcydcblxuaW1wb3J0IHtjcmVhdGVDYW1lcmF9IGZyb20gJy4uL2NvbXBvbmVudHMvVGhyZWUvY2FtZXJhLmpzJ1xuaW1wb3J0IHtjcmVhdGVMaWdodHN9IGZyb20gJy4uL2NvbXBvbmVudHMvVGhyZWUvbGlnaHRzLmpzJ1xuaW1wb3J0IHtjcmVhdGVSZW5kZXJlcn0gZnJvbSAnLi4vY29tcG9uZW50cy9UaHJlZS9yZW5kZXJlci5qcydcbmltcG9ydCB7IGNyZWF0ZUZvZ30gZnJvbSAnLi4vY29tcG9uZW50cy9UaHJlZS9mb2cuanMnXG5pbXBvcnQge2NyZWF0ZUNvbnRyb2xzfSBmcm9tICcuLi9jb21wb25lbnRzL1RocmVlL2NvbnRyb2xzLmpzJ1xuaW1wb3J0IHtjcmVhdGVUZXh0LCBsZXJwQ29sb3J9IGZyb20gJy4uL2NvbXBvbmVudHMvVGhyZWUvY3JlYXRlVGV4dC5qcydcbmltcG9ydCBoZWx2ZXRpa2VyIGZyb20gJ3RocmVlL2V4YW1wbGVzL2ZvbnRzL2hlbHZldGlrZXJfcmVndWxhci50eXBlZmFjZS5qc29uJ1xuXG4vLyBUaGlzIGNsYXNzIGluc3RhbnRpYXRlcyBhbmQgdGllcyBhbGwgb2YgdGhlIGNvbXBvbmVudHMgdG9nZXRoZXIsIHN0YXJ0cyB0aGUgbG9hZGluZyBwcm9jZXNzIGFuZCByZW5kZXJzIHRoZSBtYWluIGxvb3BcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xuICAgIGNvbnN0cnVjdG9yKHRleHQpIHtcbiAgICAgICAgLy8gc2V0IHVwIHNjZW5lXG4gICAgICAgIC8vIENBTUVSQVxuICAgICAgICAvLyBmb3YsIGFzcGVjdCwgbmVhciwgZmFyXG4gICAgICB0aGlzLmNhbWVyYSA9IGNyZWF0ZUNhbWVyYSgpXG4vLyAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMyg1MDAwLDIwMCwgMjAwMDApKVxuICAgICAgICAvLyBTQ0VORSAmIFJFTkRFUlxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIoKVxuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cbiAgICAgICAgLy9MSUdIVFNcbiAgICAgICAgY29uc3QgY29sb3IgPSAweEZGRkZGRlxuICAgICAgICBjb25zdCBpbnRlbnNpdHkgPSAxLjNcbiAgICAgICAgdGhpcy5saWdodCA9IGNyZWF0ZUxpZ2h0cyhjb2xvciwgaW50ZW5zaXR5KVxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmxpZ2h0LnRhcmdldClcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5saWdodCwgbmV3IFRIUkVFLkFtYmllbnRMaWdodChjb2xvciwgMC4yNSkpXG5cbiAgICAgICAgLy9CQUNLR1JPVU5EICYgRk9HXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoMHhGRkZGRkYpXG4gICAgICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvclxuLy8gICAgICAgIHRoaXMuc2NlbmUuZm9nID0gY3JlYXRlRm9nKDB4ZmZlYTRkLCAxNSwgMjAwMClcbiAgICAgICAgLy8gQ09OVFJPTFNcbiAgICAgICAgY3JlYXRlQ29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIsIHRoaXMubGlnaHQpXG4gICAgICAgIC8vIHNoYXBlcyAmIHRleHR1cmVzXG5cblxuICAgICAgICB0aGlzLnRleHQgPSBjcmVhdGVUZXh0KHRleHQsIGhlbHZldGlrZXIpXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMudGV4dClcbiAgICAgICAgLy9iaW5kIGNsYXNzIGZ1bmN0aW9uc1xuLy8gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCh0ZXh0KVxuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcykgLy9iaW5kIHRvIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxuXG4gICAgfVxuICAgIHVwZGF0ZVRleHQobmV3VGV4dCkge1xuICAgICAgICBjb25zb2xlLmxvZygnbmV3VGV4dDogJywgbmV3VGV4dClcbiAgICAgICAgdGhpcy50ZXh0Lmdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgICAgICB0aGlzLnRleHQubWF0ZXJpYWwuZGlzcG9zZSgpXG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMudGV4dClcblxuICAgICAgICB0aGlzLnRleHQgPSBjcmVhdGVUZXh0KG5ld1RleHQsIGhlbHZldGlrZXIpXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMudGV4dClcbiAgICAgICAgLy9UT0RPOiBtb3ZlIHRleHQgcG9zaXRpb24gdG8gc29tZXdoZXJlIHNtYXJ0ZXJcbiAgICAgICAgdGhpcy50ZXh0LnBvc2l0aW9uLnNldCgtMTUwLCA1MDAsIDApXG4gICAgfVxuICAgIHJlbmRlcih0aW1lLCBpKSB7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKCgpID0+IHtcbiAgICAgICAgY29uc3QgeFNwZCA9IHRpbWUgKiAwLjE1XG4gICAgICAgIC8vVE9ETzogdXBkYXRlIHRvIHByb3BlciBhbmltYXRpb24gbG9vcCBwZXIgaHR0cHM6Ly9kaXNjb3ZlcnRocmVlanMuY29tL2Jvb2svZmlyc3Qtc3RlcHMvYW5pbWF0aW9uLWxvb3AvI3RpbWluZy1pbi10aGUtYW5pbWF0aW9uLXN5c3RlbVxuICAgICAgICBsZXJwQ29sb3IodGhpcy50ZXh0LCB0aW1lKVxuICAgICAgICB0aGlzLnRleHQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4vLyAgICAgICAgdGhpcy50cmFpbi5yb3RhdGlvbi55ICs9IHhTcGRcbi8vICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnggLT0geFNwZFxuLy8gICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiAtPSB4U3BkXG4vLyAgICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55IC09IHhTcGQvMlxuLy8gICAgICAgIHRoaXMudGV4dC5yb3RhdGlvbi54ICs9IHhTcGRcbi8vICAgICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLmFuaW1hdGUoeFNwZClcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpXG59KVxuXG5cbn1cbn1cbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuXG5jb25zb2xlLmxvZygncGluZycpXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRGb3JtIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICBjb25zb2xlLmxvZygncHJvcHM6ICcsIHByb3BzKVxuLy8gICAgdGhpcy5zdGF0ZSA9IHt2YWx1ZTogcHJvcHMudmFsdWV9XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpXG4gIH1cbiAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UoZXZlbnQpXG4gIH1cbiAgaGFuZGxlU3VibWl0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJncmlkIHBsYWNlLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWl0ZW1zLWNlbnRlciB0ZXh0LXhsXCI+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiZmxleCBncm93IGJvcmRlci1ibGFjayB3LTEvMiBibG9jayBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCByb3VuZGVkLW1kIHB5LTIgcGwtOSBwci0zIHNoYWRvdy1zbSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLXNreS01MDAgZm9jdXM6cmluZy1za3ktNTAwIGZvY3VzOnJpbmctMSB0ZXh0LWNlbnRlclwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG5cbiIsImltcG9ydCB7IFBlcnNwZWN0aXZlQ2FtZXJhIH0gZnJvbSAndGhyZWUnXG4vL1RPRE8gYWN0dWFsbHkgYWRkIGFyZ3MvbWFrZSB0aGlzIGdvb2RcbmZ1bmN0aW9uIGNyZWF0ZUNhbWVyYSgpIHtcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDMwMDAwKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDE2NzMsIC0xOSwgMjAxNSlcbiAgICByZXR1cm4gY2FtZXJhXG59XG5leHBvcnQge2NyZWF0ZUNhbWVyYX1cblxuIiwiaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzJztcbmltcG9ydCB7IEdVSSB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9saWJzL2xpbC1ndWkubW9kdWxlLm1pbi5qcydcbmltcG9ydCBDb2xvckdVSUhlbHBlciBmcm9tICcuLi8uLi91dGlscy9Db2xvckdVSUhlbHBlci5qcydcblxuZnVuY3Rpb24gY3JlYXRlQ29udHJvbHMoY2FtZXJhLCByZW5kZXJlciwgbGlnaHQpIHtcbiAgIC8vIGNhbWVyYVxuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpXG4gICAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXQoMCwgNSwgMClcbiAgICAgICAgY29udHJvbHMudXBkYXRlKClcbiAgICAgICAgLy9saWdodCBndWlcbiAgICAgICAgY29uc3QgZ3VpID0gbmV3IEdVSSgpXG4gICAgICAgIGd1aS5hZGRDb2xvcihuZXcgQ29sb3JHVUlIZWxwZXIobGlnaHQsICdjb2xvcicpLCAndmFsdWUnKS5uYW1lKCdjb2xvcicpXG4gICAgICAgIGd1aS5hZGQobGlnaHQsICdpbnRlbnNpdHknLCAwLCAyLCAwLjAxKVxufVxuXG5leHBvcnQge2NyZWF0ZUNvbnRyb2xzfVxuIiwiaW1wb3J0IHsgRm9udExvYWRlciwgVGV4dEdlb21ldHJ5LCBNZXNoQmFzaWNNYXRlcmlhbCwgQ29sb3IsIE1lc2h9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHJhbmRvbUNvbG9yIGZyb20gJ3JhbmRvbWNvbG9yJ1xuY29uc3QgbG9hZGVyID0gbmV3IEZvbnRMb2FkZXIoKVxubGV0IGN1cnJlbnRHb2FsQ29sb3IgPSBuZXcgQ29sb3JcbmxldCBjdXJyZW50Q29sb3IgPSBuZXcgQ29sb3JcblxuZnVuY3Rpb24gY3JlYXRlVGV4dCh0ZXh0LCBmb250KSB7XG4gICAgZm9udCA9IGxvYWRlci5wYXJzZShmb250KVxuICAgIGNvbnNvbGUubG9nKCdmb250OiAnLCBmb250KVxuICAgIGNvbnN0IGdlbyA9IG5ldyBUZXh0R2VvbWV0cnkodGV4dCwge2ZvbnQ6IGZvbnR9KVxuICAgIGdlby5jZW50ZXIoKVxuICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogY3VycmVudENvbG9yfSlcbiAgICByZXR1cm4gbmV3IE1lc2goZ2VvLCBtYXRlcmlhbClcbn1cbmZ1bmN0aW9uIGxlcnBDb2xvcih0ZXh0T2JqLCB0aW1lKSB7XG4gICAgaWYgKE1hdGgucm91bmQodGV4dE9iai5tYXRlcmlhbC5jb2xvci5yKjEwMCkvMTAwID09IE1hdGgucm91bmQoY3VycmVudEdvYWxDb2xvci5yKjEwMCkvMTAwIHx8IHRpbWUgPT0gMjApe1xuICAgICAgICBjdXJyZW50R29hbENvbG9yID0gbmV3IENvbG9yKHJhbmRvbUNvbG9yKHtmb3JtYXQ6ICdyZ2InfSkpXG4gICAgfVxuICAgIHRleHRPYmoubWF0ZXJpYWwuY29sb3Iuc2V0KGN1cnJlbnRDb2xvci5sZXJwQ29sb3JzKHRleHRPYmoubWF0ZXJpYWwuY29sb3IsIGN1cnJlbnRHb2FsQ29sb3IsIDAuMDMpKVxuICAgIHRpbWUgKj0gMC4wMDA1XG4gICAgdGV4dE9iai5yb3RhdGlvbi55ICs9IHRpbWU7XG4gLy8gICB0ZXh0T2JqLnJvdGF0aW9uLnkgPSB0aW1lXG5cbn1cbmV4cG9ydCB7IGNyZWF0ZVRleHQsIGxlcnBDb2xvciB9XG4iLCJpbXBvcnQgeyBGb2cgfSBmcm9tICd0aHJlZSdcbmZ1bmN0aW9uIGNyZWF0ZUZvZyhiYWNrZ3JvdW5kQ29sb3IsIG5lYXIsIGZhcikge1xuICAgICAgcmV0dXJuIG5ldyBGb2coYmFja2dyb3VuZENvbG9yLCBuZWFyLCBmYXIpO1xufVxuXG5leHBvcnQge2NyZWF0ZUZvZ31cbiIsImltcG9ydCB7IERpcmVjdGlvbmFsTGlnaHQgfSBmcm9tICd0aHJlZSdcbmZ1bmN0aW9uIGNyZWF0ZUxpZ2h0cyhjb2xvciwgaW50ZW5zaXR5KSB7XG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoY29sb3IsIGludGVuc2l0eSk7XG4gICAgICAgIGxpZ2h0LnBvc2l0aW9uLnNldFNjYWxhcigxKVxuICAgICAgICByZXR1cm4gbGlnaHRcbn1cbmV4cG9ydCB7Y3JlYXRlTGlnaHRzfVxuXG4iLCJpbXBvcnQgIHsgV2ViR0xSZW5kZXJlciB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe2FudGlhbGlhczogdHJ1ZX0pO1xuICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gIHJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbi8vICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbygyLjApXG4gICAgICByZW5kZXJlci5zaGFkb3dNYXBFbmFibGVkID0gdHJ1ZVxuICAgICAgICAvL2NhbWVyYSBoZWxwZXIsIGlmIG5lZWRlZFxuLy8gICAgICAgIHRoaXMuc2NlbmUuYWRkKG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5jYW1lcmEpKVxuICAgICAgICAvL2RvIG5vdCBldmVyIGRlbGV0ZSBtZVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChyZW5kZXJlci5kb21FbGVtZW50KVxuICAgIHJldHVybiByZW5kZXJlclxuXG59XG5leHBvcnQge2NyZWF0ZVJlbmRlcmVyfVxuIiwiaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcblxuLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHN0YXRlIG9mIHRoZSBhcHBcbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNEZXY6IGZhbHNlLFxuICBpc1Nob3dpbmdTdGF0czogdHJ1ZSxcbiAgaXNMb2FkZWQ6IGZhbHNlLFxuICBpc1R3ZWVuaW5nOiBmYWxzZSxcbiAgaXNSb3RhdGluZzogdHJ1ZSxcbiAgaXNNb3VzZU1vdmluZzogZmFsc2UsXG4gIGlzTW91c2VPdmVyOiBmYWxzZSxcbiAgbWF4QW5pc290cm9weTogMSxcbiAgZHByOiAxLFxuICBlYXNpbmc6IFRXRUVOLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsXG4gIGR1cmF0aW9uOiA1MDAsXG4gIG1vZGVsOiB7XG4gICAgc2VsZWN0ZWQ6IDAsXG4gICAgaW5pdGlhbFR5cGVzOiBbJ2dsdGYnLCAnb2JqZWN0J10sXG4gICAgdHlwZTogJ2dsdGYnXG4gIH0sXG4gIG1vZGVsczogW1xuICAgIHtcbiAgICAgIHBhdGg6ICcuL2Fzc2V0cy9tb2RlbHMvZHVjay5nbHRmJyxcbiAgICAgIHNjYWxlOiAyMCxcbiAgICAgIHR5cGU6ICdnbHRmJ1xuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogJy4vYXNzZXRzL21vZGVscy9UZWFwb3QuanNvbicsXG4gICAgICBzY2FsZTogMjAsXG4gICAgICB0eXBlOiAnb2JqZWN0J1xuICAgIH1cbiAgXSxcbiAgdGV4dHVyZToge1xuICAgIHBhdGg6ICcuL2Fzc2V0cy90ZXh0dXJlcy8nLFxuICAgIGltYWdlRmlsZXM6IFtcbiAgICAgIHsgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfVxuICAgIF1cbiAgfSxcbiAgbWVzaDoge1xuICAgIGVuYWJsZUhlbHBlcjogdHJ1ZSxcbiAgICB3aXJlZnJhbWU6IGZhbHNlLFxuICAgIHRyYW5zbHVjZW50OiBmYWxzZSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXG4gICAgfVxuICB9LFxuICBmb2c6IHtcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgbmVhcjogMC4wMDA4XG4gIH0sXG4gIGNhbWVyYToge1xuICAgIGZvdjogNDAsXG4gICAgbmVhcjogMixcbiAgICBmYXI6IDEwMDAsXG4gICAgYXNwZWN0OiAxLFxuICAgIHBvc1g6IDAsXG4gICAgcG9zWTogMzAsXG4gICAgcG9zWjogNDBcbiAgfSxcbiAgY29udHJvbHM6IHtcbiAgICBhdXRvUm90YXRlOiB0cnVlLFxuICAgIGF1dG9Sb3RhdGVTcGVlZDogLTAuNSxcbiAgICByb3RhdGVTcGVlZDogMC41LFxuICAgIHpvb21TcGVlZDogMC44LFxuICAgIG1pbkRpc3RhbmNlOiAyMDAsXG4gICAgbWF4RGlzdGFuY2U6IDYwMCxcbiAgICBtaW5Qb2xhckFuZ2xlOiBNYXRoLlBJIC8gNSxcbiAgICBtYXhQb2xhckFuZ2xlOiBNYXRoLlBJIC8gMixcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhBemltdXRoQW5nbGU6IEluZmluaXR5LFxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxuICAgIGVuYWJsZVpvb206IHRydWUsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDBcbiAgICB9XG4gIH0sXG4gIGFtYmllbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4MTQxNDE0XG4gIH0sXG4gIGRpcmVjdGlvbmFsTGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweGYwZjBmMCxcbiAgICBpbnRlbnNpdHk6IDAuNCxcbiAgICB4OiAtNzUsXG4gICAgeTogMjgwLFxuICAgIHo6IDE1MFxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGhlbHBlckVuYWJsZWQ6IHRydWUsXG4gICAgYmlhczogMCxcbiAgICBtYXBXaWR0aDogMjA0OCxcbiAgICBtYXBIZWlnaHQ6IDIwNDgsXG4gICAgbmVhcjogMjUwLFxuICAgIGZhcjogNDAwLFxuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAtMTAwLFxuICAgIGxlZnQ6IC0xMDBcbiAgfSxcbiAgcG9pbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC4zNCxcbiAgICBkaXN0YW5jZTogMTE1LFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB6OiAwXG4gIH0sXG4gIGhlbWlMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4YzhjOGM4LFxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcbiAgICBpbnRlbnNpdHk6IDAuNTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yR1VJSGVscGVyIHtcbiAgICAgIGNvbnN0cnVjdG9yKG9iamVjdCwgcHJvcCkge1xuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgIH1cbiAgICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGAjJHt0aGlzLm9iamVjdFt0aGlzLnByb3BdLmdldEhleFN0cmluZygpfWA7XG4gICAgICB9XG4gICAgICBzZXQgdmFsdWUoaGV4U3RyaW5nKSB7XG4gICAgICAgIHRoaXMub2JqZWN0W3RoaXMucHJvcF0uc2V0KGhleFN0cmluZyk7XG4gICAgICB9XG59XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxuICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuICAgIGlmKCF0aGlzLndlYmdsKSB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgIF0uam9pbignXFxuJykgOiBbXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgcGFyZW50ID0gcGFyYW1ldGVycy5wYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMucGFyZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcbiAgICBlbGVtZW50LmlkID0gaWQ7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9