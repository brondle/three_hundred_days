/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,s)=>{"use strict";s.r(t);var o=s("./src/js/data/config.js"),r=s("./src/js/utils/detector.js"),i=s("./src/js/app/main.js");s("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),o.default.isDev=!0,function(){if(r.default.webgl){document.getElementById("appContainer");let e=new i.default;e.buildFloorMesh(),e.render(20)}else r.default.addGetWebGLMessage()}()},"./src/js/app/main.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var o=s("./node_modules/three/build/three.module.js"),r=(s("./node_modules/chroma-js/chroma.js"),s("../node_modules/three/examples/jsm/libs/lil-gui.module.min.js")),i=s("./src/js/utils/ColorGUIHelper.js");s("./node_modules/randomcolor/randomColor.js");new o.Color,new o.Color;class n{constructor(){this.camera=new o.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.y=70,this.camera.position.z=1e3,this.camera.rotation.x=-15*Math.PI/180,this.scene=new o.Scene,this.renderer=new o.WebGLRenderer,this.renderer.shadowMapEnabled=!0;this.light=new o.AmbientLight(16777215,1.3),this.scene.add(this.light);const e=new r.GUI;e.addColor(new i.default(this.light,"color"),"value").name("color"),e.add(this.light,"intensity",0,2,.01),console.log("foo"),this.render=this.render.bind(this),this.buildFloorMesh=this.buildFloorMesh.bind(this),this.buildFloorMesh()}buildFloorMesh(){let e=new o.PlaneGeometry(100,100,15,15);console.log("vertices? ",e.attributes.position);let t=new o.MeshLambertMaterial({color:3319888});t.flatShading=!0;let s=new o.Mesh(e,t);s.name="floor",this.scene.add(s),this.camera.lookAt(s)}render(e){console.log("rendering"),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}},"./src/js/data/config.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:s("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!0,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/ColorGUIHelper.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});class o{constructor(e,t){this.object=e,this.prop=t}get value(){return`#${this.object[this.prop].getHexString()}`}set value(e){this.object[this.prop].set(e)}}},"./src/js/utils/detector.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,s,o;t=void 0!==(e=e||{}).parent?e.parent:document.body,s=void 0!==e.id?e.id:"oldie",(o=this.getWebGLErrorMessage()).id=s,t.appendChild(o)}}},"./src/css/app.scss":(e,t,s)=>{"use strict";s.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvZGF0YS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9Db2xvckdVSUhlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJEZXRlY3RvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJncm91bmQiLCJUZXh0dXJlIiwiYnVpbGRGbG9vck1lc2giLCJyZW5kZXIiLCJpbml0IiwiVEhSRUUiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjYW1lcmEiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3NpdGlvbiIsInkiLCJ6Iiwicm90YXRpb24iLCJ4IiwiTWF0aCIsIlBJIiwic2NlbmUiLCJyZW5kZXJlciIsInNoYWRvd01hcEVuYWJsZWQiLCJsaWdodCIsImFkZCIsImd1aSIsIkdVSSIsImFkZENvbG9yIiwiQ29sb3JHVUlIZWxwZXIiLCJuYW1lIiwiYmluZCIsImZsb29yIiwiYXR0cmlidXRlcyIsImZsb29yTWF0ZXJpYWwiLCJjb2xvciIsImZsYXRTaGFkaW5nIiwiZmxvb3JNZXNoIiwibG9va0F0IiwidGltZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImlzRGV2IiwiaXNTaG93aW5nU3RhdHMiLCJpc0xvYWRlZCIsImlzVHdlZW5pbmciLCJpc1JvdGF0aW5nIiwiaXNNb3VzZU1vdmluZyIsImlzTW91c2VPdmVyIiwibWF4QW5pc290cm9weSIsImRwciIsImVhc2luZyIsIlRXRUVOIiwiZHVyYXRpb24iLCJtb2RlbCIsInNlbGVjdGVkIiwiaW5pdGlhbFR5cGVzIiwidHlwZSIsIm1vZGVscyIsInBhdGgiLCJzY2FsZSIsInRleHR1cmUiLCJpbWFnZUZpbGVzIiwiaW1hZ2UiLCJtZXNoIiwiZW5hYmxlSGVscGVyIiwid2lyZWZyYW1lIiwidHJhbnNsdWNlbnQiLCJtYXRlcmlhbCIsImVtaXNzaXZlIiwiZm9nIiwibmVhciIsImZvdiIsImZhciIsImFzcGVjdCIsInBvc1giLCJwb3NZIiwicG9zWiIsImNvbnRyb2xzIiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsIm1pblBvbGFyQW5nbGUiLCJtYXhQb2xhckFuZ2xlIiwibWluQXppbXV0aEFuZ2xlIiwiSW5maW5pdHkiLCJtYXhBemltdXRoQW5nbGUiLCJlbmFibGVEYW1waW5nIiwiZGFtcGluZ0ZhY3RvciIsImVuYWJsZVpvb20iLCJ0YXJnZXQiLCJhbWJpZW50TGlnaHQiLCJlbmFibGVkIiwiZGlyZWN0aW9uYWxMaWdodCIsImludGVuc2l0eSIsInNoYWRvdyIsImhlbHBlckVuYWJsZWQiLCJiaWFzIiwibWFwV2lkdGgiLCJtYXBIZWlnaHQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJwb2ludExpZ2h0IiwiZGlzdGFuY2UiLCJoZW1pTGlnaHQiLCJncm91bmRDb2xvciIsIm9iamVjdCIsInByb3AiLCJnZXRIZXhTdHJpbmciLCJoZXhTdHJpbmciLCJzZXQiLCJjYW52YXMiLCJDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJ3ZWJnbCIsImNyZWF0ZUVsZW1lbnQiLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJnZXRDb250ZXh0IiwiZSIsIndvcmtlcnMiLCJXb3JrZXIiLCJmaWxlYXBpIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsIkJsb2IiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImVsZW1lbnQiLCJpZCIsInN0eWxlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsImJhY2tncm91bmQiLCJwYWRkaW5nIiwid2lkdGgiLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJqb2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyYW1ldGVycyIsInBhcmVudCIsInVuZGVmaW5lZCIsImJvZHkiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6IjtpU0FTRUEsUUFBUUMsSUFBSSwyQ0FFWkMsaUJBQWUsRUFHakIsV0FFRSxHQUFJQyxnQkFFRyxDQUNhQyxTQUFTQyxlQUFlLGdCQUMxQyxJQUFJQyxFQUFTLElBQUlDLFVBQ2pCRCxFQUFPRSxpQkFDUEYsRUFBT0csT0FBTyxTQUxkTiwrQkFTSk8sSSx3VUNqQnVCLElBQUlDLFFBQ1IsSUFBSUEsUUFJUixNQUFNSixFQUNqQkssY0FPSUMsS0FBS0MsT0FBUyxJQUFJSCxvQkFBd0IsR0FBSUksT0FBT0MsV0FBYUQsT0FBT0UsWUFBYSxHQUFLLEtBQzNGSixLQUFLQyxPQUFPSSxTQUFTQyxFQUFJLEdBQ3pCTixLQUFLQyxPQUFPSSxTQUFTRSxFQUFJLElBQ3pCUCxLQUFLQyxPQUFPTyxTQUFTQyxHQUFLLEdBQUtDLEtBQUtDLEdBQUssSUFDekNYLEtBQUtZLE1BQVEsSUFBSWQsUUFDakJFLEtBQUthLFNBQVcsSUFBSWYsZ0JBQ3BCRSxLQUFLYSxTQUFTQyxrQkFBbUIsRUFHakNkLEtBQUtlLE1BQVEsSUFBSWpCLGVBRkgsU0FDSSxLQUVsQkUsS0FBS1ksTUFBTUksSUFBSWhCLEtBQUtlLE9BQ3BCLE1BQU1FLEVBQU0sSUFBSUMsTUFDaEJELEVBQUlFLFNBQVMsSUFBSUMsVUFBZXBCLEtBQUtlLE1BQU8sU0FBVSxTQUFTTSxLQUFLLFNBQ3BFSixFQUFJRCxJQUFJaEIsS0FBS2UsTUFBTyxZQUFhLEVBQUcsRUFBRyxLQUN2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QSxFQUViYyxFQUFPRyxZQUFZbEIsTSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb25maWcgZnJvbSAnLi9kYXRhL2NvbmZpZyc7XG5pbXBvcnQgRGV0ZWN0b3IgZnJvbSAnLi91dGlscy9kZXRlY3Rvcic7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL2FwcC9tYWluJztcblxuLy8gU3R5bGVzXG5pbXBvcnQgJy4vLi4vY3NzL2FwcC5zY3NzJztcblxuLy8gQ2hlY2sgZW52aXJvbm1lbnQgYW5kIHNldCB0aGUgQ29uZmlnIGhlbHBlclxuaWYoX19FTlZfXyA9PT0gJ2RldicpIHtcbiAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpO1xuXG4gIENvbmZpZy5pc0RldiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIC8vIENoZWNrIGZvciB3ZWJHTCBjYXBhYmlsaXRpZXNcbiAgaWYoIURldGVjdG9yLndlYmdsKSB7XG4gICAgRGV0ZWN0b3IuYWRkR2V0V2ViR0xNZXNzYWdlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcENvbnRhaW5lcicpO1xuICAgIGxldCBncm91bmQgPSBuZXcgVGV4dHVyZSgpO1xuICAgIGdyb3VuZC5idWlsZEZsb29yTWVzaCgpXG4gICAgZ3JvdW5kLnJlbmRlcigyMClcbiAgfVxufVxuXG5pbml0KCk7XG4iLCIvLyBHbG9iYWwgaW1wb3J0cyAtXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgY2hyb21hIGZyb20gJ2Nocm9tYS1qcydcbmltcG9ydCB7QnVmZmVyR2VvbWV0cnlVdGlsc30gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3V0aWxzL0J1ZmZlckdlb21ldHJ5VXRpbHMuanMnXG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanMnO1xuaW1wb3J0IHsgR1VJIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xpYnMvbGlsLWd1aS5tb2R1bGUubWluLmpzJ1xuaW1wb3J0IENvbG9yR1VJSGVscGVyIGZyb20gJy4uL3V0aWxzL0NvbG9yR1VJSGVscGVyLmpzJ1xuaW1wb3J0IHJhbmRvbUNvbG9yIGZyb20gJ3JhbmRvbWNvbG9yJ1xuXG5sZXQgY3VycmVudEdvYWxDb2xvciA9IG5ldyBUSFJFRS5Db2xvclxubGV0IGN1cnJlbnRDb2xvciA9IG5ldyBUSFJFRS5Db2xvclxuXG5cbi8vIFRoaXMgY2xhc3MgaW5zdGFudGlhdGVzIGFuZCB0aWVzIGFsbCBvZiB0aGUgY29tcG9uZW50cyB0b2dldGhlciwgc3RhcnRzIHRoZSBsb2FkaW5nIHByb2Nlc3MgYW5kIHJlbmRlcnMgdGhlIG1haW4gbG9vcFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIHNldCB1cCBzY2VuZVxuICAgICAgICBjb25zdCBmb3YgPSA3NTtcbiAgICAgICAgY29uc3QgYXNwZWN0ID0gMjsgIC8vIHRoZSBjYW52YXMgZGVmYXVsdFxuICAgICAgICBjb25zdCBuZWFyID0gMC4xO1xuICAgICAgICBjb25zdCBmYXIgPSA1O1xuICAgICAgICAvLyBmb3YsIGFzcGVjdCwgbmVhciwgZmFyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwKTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueSA9IDcwO1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTAwMDtcbiAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb24ueCA9IC0xNSAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwRW5hYmxlZCA9IHRydWVcbiAgICAgICAgY29uc3QgY29sb3IgPSAweEZGRkZGRlxuICAgICAgICBjb25zdCBpbnRlbnNpdHkgPSAxLjNcbiAgICAgICAgdGhpcy5saWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoY29sb3IsIGludGVuc2l0eSk7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubGlnaHQpXG4gICAgICAgIGNvbnN0IGd1aSA9IG5ldyBHVUkoKVxuICAgICAgICBndWkuYWRkQ29sb3IobmV3IENvbG9yR1VJSGVscGVyKHRoaXMubGlnaHQsICdjb2xvcicpLCAndmFsdWUnKS5uYW1lKCdjb2xvcicpXG4gICAgICAgIGd1aS5hZGQodGhpcy5saWdodCwgJ2ludGVuc2l0eScsIDAsIDIsIDAuMDEpXG4gICAgICAgIGNvbnNvbGUubG9nKCdmb28nKVxuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcykgLy9iaW5kIHRvIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxuICAgICAgICB0aGlzLmJ1aWxkRmxvb3JNZXNoID0gdGhpcy5idWlsZEZsb29yTWVzaC5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMuYnVpbGRGbG9vck1lc2goKVxuXG4gICAgfVxuICAgIGJ1aWxkRmxvb3JNZXNoKCkge1xuICAgICAgICAvL3RleHR1cmUgY3JlYXRpb25cbiAgICAgICAgLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5MzgzNzkxL2xvdy1wb2x5LXRlcnJhaW4tY3JlYXRlZC1ieS1tb2RpZnlpbmctZ2VvbWV0cnktdmVydGljZXMtaXMtcHJvZHVjaW5nLWJsYWNrLWdsaXRjXG4gICAgICAgIGxldCBmbG9vciA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEwMCwgMTAwLCAxNSwgMTUpXG4gICAgICAgIGxldCByYW5kb21GbG9vclZlcnRleFBvc1xuICAgICAgICBjb25zb2xlLmxvZygndmVydGljZXM/ICcsIGZsb29yLmF0dHJpYnV0ZXMucG9zaXRpb24pXG4vLyAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbG9vci5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5Lmxlbmd0aDsgaSs9Mikge1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygncGluZycpXG4vLyAgICAgICAgICAgIHJhbmRvbUZsb29yVmVydGV4UG9zID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKCgwKSAtICgtOTApKSArICgtOTApKVxuLy8gICAgICAgICAgIGZsb29yLmF0dHJpYnV0ZXMucG9zaXRpb24uc2V0WShpLCByYW5kb21GbG9vclZlcnRleFBvcylcbi8vXG4vLyAgICAgICAgfVxuLy8gICAgICAgICAgICBmbG9vci5hdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbi8vXG4vLyAgICAgICAgICAgIGZsb29yLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKClcbiAgICAgICAgbGV0IGZsb29yTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOjB4MzJhODUwIH0pXG4gICAgICAgIGZsb29yTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xuICAgICAgICBsZXQgZmxvb3JNZXNoID0gbmV3IFRIUkVFLk1lc2goZmxvb3IsIGZsb29yTWF0ZXJpYWwpXG4gIC8vICAgICAgZmxvb3JNZXNoLnBvc2l0aW9uLnkgPSAtNzIuNVxuLy8gICAgICAgIGZsb29yTWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZVxuIC8vICAgICAgIGZsb29yTWVzaC5jYXN0U2hhZG93ID0gdHJ1ZVxuICAgICAgICBmbG9vck1lc2gubmFtZSA9IFwiZmxvb3JcIlxuICAgICAgICB0aGlzLnNjZW5lLmFkZChmbG9vck1lc2gpXG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChmbG9vck1lc2gpXG5cbiAgICB9XG5cbiAgICByZW5kZXIodGltZSkge1xuICAgICAgICBjb25zb2xlLmxvZygncmVuZGVyaW5nJylcbi8vICAgICAgICBpZiAoTWF0aC5yb3VuZCh0aGlzLnNoYXBlLm1hdGVyaWFsLmNvbG9yLnIqMTAwKS8xMDAgPT0gTWF0aC5yb3VuZChjdXJyZW50R29hbENvbG9yLnIqMTAwKS8xMDAgfHwgdGltZSA9PSAyMCl7XG4vLyAgICAgICAgICAgIGN1cnJlbnRHb2FsQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IocmFuZG9tQ29sb3Ioe2Zvcm1hdDogJ3JnYid9KSlcbi8vICAgICAgICB9XG4gICAgICAgIC8vdGhpcy5zaGFwZS5tYXRlcmlhbC5jb2xvci5zZXQoY3VycmVudENvbG9yLmxlcnBDb2xvcnMoIHRoaXMuc2hhcGUubWF0ZXJpYWwuY29sb3IsIGN1cnJlbnRHb2FsQ29sb3IsIDAuMDMpKVxuICAgICAgICB0aW1lICo9IDAuMDAxXG4vLyAgICAgICAgdGhpcy5zaGFwZS5yb3RhdGlvbi54ID0gdGltZTtcbi8vICAgICAgICB0aGlzLnNoYXBlLnJvdGF0aW9uLnkgPSB0aW1lXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKVxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIpICAgICB9XG5cbn1cblxuXG4iLCJpbXBvcnQgVFdFRU4gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnO1xuXG4vLyBUaGlzIG9iamVjdCBjb250YWlucyB0aGUgc3RhdGUgb2YgdGhlIGFwcFxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0RldjogZmFsc2UsXG4gIGlzU2hvd2luZ1N0YXRzOiB0cnVlLFxuICBpc0xvYWRlZDogZmFsc2UsXG4gIGlzVHdlZW5pbmc6IGZhbHNlLFxuICBpc1JvdGF0aW5nOiB0cnVlLFxuICBpc01vdXNlTW92aW5nOiBmYWxzZSxcbiAgaXNNb3VzZU92ZXI6IGZhbHNlLFxuICBtYXhBbmlzb3Ryb3B5OiAxLFxuICBkcHI6IDEsXG4gIGVhc2luZzogVFdFRU4uRWFzaW5nLlF1YWRyYXRpYy5Jbk91dCxcbiAgZHVyYXRpb246IDUwMCxcbiAgbW9kZWw6IHtcbiAgICBzZWxlY3RlZDogMCxcbiAgICBpbml0aWFsVHlwZXM6IFsnZ2x0ZicsICdvYmplY3QnXSxcbiAgICB0eXBlOiAnZ2x0ZidcbiAgfSxcbiAgbW9kZWxzOiBbXG4gICAge1xuICAgICAgcGF0aDogJy4vYXNzZXRzL21vZGVscy9kdWNrLmdsdGYnLFxuICAgICAgc2NhbGU6IDIwLFxuICAgICAgdHlwZTogJ2dsdGYnXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiAnLi9hc3NldHMvbW9kZWxzL1RlYXBvdC5qc29uJyxcbiAgICAgIHNjYWxlOiAyMCxcbiAgICAgIHR5cGU6ICdvYmplY3QnXG4gICAgfVxuICBdLFxuICB0ZXh0dXJlOiB7XG4gICAgcGF0aDogJy4vYXNzZXRzL3RleHR1cmVzLycsXG4gICAgaW1hZ2VGaWxlczogW1xuICAgICAgeyBuYW1lOiAnVVYnLCBpbWFnZTogJ1VWX0dyaWRfU20uanBnJyB9XG4gICAgXVxuICB9LFxuICBtZXNoOiB7XG4gICAgZW5hYmxlSGVscGVyOiB0cnVlLFxuICAgIHdpcmVmcmFtZTogZmFsc2UsXG4gICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgIG1hdGVyaWFsOiB7XG4gICAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgICBlbWlzc2l2ZTogMHhmZmZmZmZcbiAgICB9XG4gIH0sXG4gIGZvZzoge1xuICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICBuZWFyOiAwLjAwMDhcbiAgfSxcbiAgY2FtZXJhOiB7XG4gICAgZm92OiA0MCxcbiAgICBuZWFyOiAyLFxuICAgIGZhcjogMTAwMCxcbiAgICBhc3BlY3Q6IDEsXG4gICAgcG9zWDogMCxcbiAgICBwb3NZOiAzMCxcbiAgICBwb3NaOiA0MFxuICB9LFxuICBjb250cm9sczoge1xuICAgIGF1dG9Sb3RhdGU6IHRydWUsXG4gICAgYXV0b1JvdGF0ZVNwZWVkOiAtMC41LFxuICAgIHJvdGF0ZVNwZWVkOiAwLjUsXG4gICAgem9vbVNwZWVkOiAwLjgsXG4gICAgbWluRGlzdGFuY2U6IDIwMCxcbiAgICBtYXhEaXN0YW5jZTogNjAwLFxuICAgIG1pblBvbGFyQW5nbGU6IE1hdGguUEkgLyA1LFxuICAgIG1heFBvbGFyQW5nbGU6IE1hdGguUEkgLyAyLFxuICAgIG1pbkF6aW11dGhBbmdsZTogLUluZmluaXR5LFxuICAgIG1heEF6aW11dGhBbmdsZTogSW5maW5pdHksXG4gICAgZW5hYmxlRGFtcGluZzogdHJ1ZSxcbiAgICBkYW1waW5nRmFjdG9yOiAwLjUsXG4gICAgZW5hYmxlWm9vbTogdHJ1ZSxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgejogMFxuICAgIH1cbiAgfSxcbiAgYW1iaWVudExpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHgxNDE0MTRcbiAgfSxcbiAgZGlyZWN0aW9uYWxMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZjBmMGYwLFxuICAgIGludGVuc2l0eTogMC40LFxuICAgIHg6IC03NSxcbiAgICB5OiAyODAsXG4gICAgejogMTUwXG4gIH0sXG4gIHNoYWRvdzoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgaGVscGVyRW5hYmxlZDogdHJ1ZSxcbiAgICBiaWFzOiAwLFxuICAgIG1hcFdpZHRoOiAyMDQ4LFxuICAgIG1hcEhlaWdodDogMjA0OCxcbiAgICBuZWFyOiAyNTAsXG4gICAgZmFyOiA0MDAsXG4gICAgdG9wOiAxMDAsXG4gICAgcmlnaHQ6IDEwMCxcbiAgICBib3R0b206IC0xMDAsXG4gICAgbGVmdDogLTEwMFxuICB9LFxuICBwb2ludExpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgaW50ZW5zaXR5OiAwLjM0LFxuICAgIGRpc3RhbmNlOiAxMTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfSxcbiAgaGVtaUxpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHhjOGM4YzgsXG4gICAgZ3JvdW5kQ29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC41NSxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMFxuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JHVUlIZWxwZXIge1xuICAgICAgY29uc3RydWN0b3Iob2JqZWN0LCBwcm9wKSB7XG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB0aGlzLnByb3AgPSBwcm9wO1xuICAgICAgfVxuICAgICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gYCMke3RoaXMub2JqZWN0W3RoaXMucHJvcF0uZ2V0SGV4U3RyaW5nKCl9YDtcbiAgICAgIH1cbiAgICAgIHNldCB2YWx1ZShoZXhTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5vYmplY3RbdGhpcy5wcm9wXS5zZXQoaGV4U3RyaW5nKTtcbiAgICAgIH1cbn1cbiIsIi8qKlxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqIEBhdXRob3IgbXIuZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2FudmFzOiAhIXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIHdlYmdsOiAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgcmV0dXJuICEhKHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSkpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSkoKSxcblxuICB3b3JrZXJzOiAhIXdpbmRvdy5Xb3JrZXIsXG4gIGZpbGVhcGk6IHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYixcblxuICBnZXRXZWJHTEVycm9yTWVzc2FnZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LmlkID0gJ3dlYmdsLWVycm9yLW1lc3NhZ2UnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdtb25vc3BhY2UnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTNweCc7XG4gICAgZWxlbWVudC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XG4gICAgZWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7XG4gICAgZWxlbWVudC5zdHlsZS5jb2xvciA9ICcjMDAwJztcbiAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMS41ZW0nO1xuICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnNDAwcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luID0gJzVlbSBhdXRvIDAnO1xuXG4gICAgaWYoIXRoaXMud2ViZ2wpIHtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCA/IFtcbiAgICAgICAgJ1lvdXIgZ3JhcGhpY3MgY2FyZCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIgLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKSA6IFtcbiAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIvPicsXG4gICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nXG4gICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9LFxuXG4gIGFkZEdldFdlYkdMTWVzc2FnZTogZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICAgIHZhciBwYXJlbnQsIGlkLCBlbGVtZW50O1xuXG4gICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnMgfHwge307XG5cbiAgICBwYXJlbnQgPSBwYXJhbWV0ZXJzLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5wYXJlbnQgOiBkb2N1bWVudC5ib2R5O1xuICAgIGlkID0gcGFyYW1ldGVycy5pZCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5pZCA6ICdvbGRpZSc7XG5cbiAgICBlbGVtZW50ID0gdGhpcy5nZXRXZWJHTEVycm9yTWVzc2FnZSgpO1xuICAgIGVsZW1lbnQuaWQgPSBpZDtcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=