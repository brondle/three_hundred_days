/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,s)=>{"use strict";s.r(t);var o=s("./src/js/data/config.js"),r=s("./src/js/utils/detector.js"),n=s("./src/js/app/main.js");s("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),o.default.isDev=!0,function(){if(r.default.webgl){document.getElementById("appContainer");(new n.default).render(20,0)}else r.default.addGetWebGLMessage()}()},"./src/js/app/main.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var o=s("./node_modules/three/build/three.module.js"),r=s("./src/js/components/camera.js"),n=s("./src/js/components/lights.js"),i=s("./src/js/components/renderer.js"),a=s("./src/js/components/fog.js"),c=s("./src/js/components/controls.js"),l=s("./src/js/components/particleSystem.js");new o.Clock;class d{constructor(){this.camera=(0,r.createCamera)(),this.camera.lookAt(new o.Vector3(5e3,200,2e4)),this.renderer=(0,i.createRenderer)(),this.scene=new o.Scene;const e=16777215;this.light=(0,n.createLights)(e,4),this.scene.add(this.light.target),this.scene.add(this.light,new o.AmbientLight(e,1.5));let t=new o.Color(16735775);this.scene.background=t,this.scene.fog=(0,a.createFog)(16771661,15,20),(0,c.createControls)(this.camera,this.renderer,this.light);let s=new o.Vector3(0,3,0),d=new o.Vector3(0,0,0);this.particleSystem=(0,l.createParticles)(2e4,6509908,.05,s,d),this.scene.add(this.particleSystem.mesh),this.render=this.render.bind(this)}render(e,t){this.renderer.setAnimationLoop((()=>{const t=-5e-4*e;this.particleSystem.animate(t),this.renderer.render(this.scene,this.camera)}))}}},"./src/js/components/camera.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createCamera:()=>r});var o=s("./node_modules/three/build/three.module.js");function r(){const e=new o.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,300);return e.position.set(5,2,10),e}},"./src/js/components/controls.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createControls:()=>i});var o=s("./node_modules/three/examples/jsm/controls/OrbitControls.js"),r=s("../node_modules/three/examples/jsm/libs/lil-gui.module.min.js"),n=s("./src/js/utils/ColorGUIHelper.js");function i(e,t,s){const i=new o.OrbitControls(e,t.domElement);i.target.set(0,5,0),i.update();const a=new r.GUI;a.addColor(new n.default(s,"color"),"value").name("color"),a.add(s,"intensity",0,2,.01)}},"./src/js/components/fog.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createFog:()=>r});var o=s("./node_modules/three/build/three.module.js");function r(e,t,s){return new o.Fog(e,t,s)}},"./src/js/components/lights.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createLights:()=>r});var o=s("./node_modules/three/build/three.module.js");function r(e,t){const s=new o.DirectionalLight(e,t);return s.position.set(-10,10,10),s}},"./src/js/components/particleSystem.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createParticles:()=>n});var o=s("./node_modules/three/build/three.module.js");const r=(e,t)=>e+Math.random()*(t-e);function n(e,t,s,n,i){const a=[],c=[],l=new o.BufferGeometry;for(let t=0;t<e;t++){const e={position:new o.Vector3(r(i.x,n.x),r(i.y,n.y),r(i.z,-n.z)),velocity:new o.Vector3(r(.001,.03),.06,r(.001,.03)),acceleration:new o.Vector3(1e-4,1e-4,1e-4)};a.push(e);const t=Object.values(e.position);c.push(...t)}console.log("vertices: ",c),l.setAttribute("position",new o.BufferAttribute(new Float32Array(c),3));const d=new o.PointsMaterial({color:t,size:s});return{mesh:new o.Points(l,d),animate:function(e){const t=[];a.forEach((e=>{e.position.add(e.velocity),e.position.y>10&&(e.position=new o.Vector3(r(i.x,n.x),r(i.y,n.y),r(i.z,-n.z)));const s=Object.values(e.position);t.push(...s)})),l.setAttribute("position",new o.BufferAttribute(new Float32Array(t),3)),l.attributes.position.needsUpdate=!0}}}},"./src/js/components/renderer.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createRenderer:()=>r});var o=s("./node_modules/three/build/three.module.js");function r(){const e=new o.WebGLRenderer({antialising:!0});return e.setSize(window.innerWidth,window.innerHeight),e.physicallyCorrectLights=!0,e.setPixelRatio(2),e.shadowMapEnabled=!0,document.body.append(e.domElement),e}},"./src/js/data/config.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:s("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!0,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/ColorGUIHelper.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});class o{constructor(e,t){this.object=e,this.prop=t}get value(){return`#${this.object[this.prop].getHexString()}`}set value(e){this.object[this.prop].set(e)}}},"./src/js/utils/detector.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,s,o;t=void 0!==(e=e||{}).parent?e.parent:document.body,s=void 0!==e.id?e.id:"oldie",(o=this.getWebGLErrorMessage()).id=s,t.appendChild(o)}}},"./src/css/app.scss":(e,t,s)=>{"use strict";s.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9jYW1lcmEuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL2NvbnRyb2xzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9mb2cuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL2xpZ2h0cy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvcGFydGljbGVTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL3JlbmRlcmVyLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvZGF0YS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9Db2xvckdVSUhlbHBlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJEZXRlY3RvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJUZXh0dXJlIiwicmVuZGVyIiwiaW5pdCIsIlRIUkVFIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY2FtZXJhIiwiY3JlYXRlQ2FtZXJhIiwibG9va0F0IiwicmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsInNjZW5lIiwiY29sb3IiLCJsaWdodCIsImNyZWF0ZUxpZ2h0cyIsImFkZCIsInRhcmdldCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJmb2ciLCJjcmVhdGVGb2ciLCJjcmVhdGVDb250cm9scyIsIm1heCIsIm1pbiIsInBhcnRpY2xlU3lzdGVtIiwiY3JlYXRlUGFydGljbGVzIiwibWVzaCIsImJpbmQiLCJ0aW1lIiwiaSIsInNldEFuaW1hdGlvbkxvb3AiLCJ4U3BkIiwiYW5pbWF0ZSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicG9zaXRpb24iLCJzZXQiLCJjb250cm9scyIsIk9yYml0Q29udHJvbHMiLCJkb21FbGVtZW50IiwidXBkYXRlIiwiZ3VpIiwiR1VJIiwiYWRkQ29sb3IiLCJDb2xvckdVSUhlbHBlciIsIm5hbWUiLCJuZWFyIiwiZmFyIiwiRm9nIiwiaW50ZW5zaXR5IiwiRGlyZWN0aW9uYWxMaWdodCIsInJhbmQiLCJNYXRoIiwicmFuZG9tIiwiY291bnQiLCJzaXplIiwiaW5pdFBvc01heCIsImluaXRQb3NNaW4iLCJwYXJ0aWNsZXMiLCJ2ZXJ0aWNlcyIsImdlbyIsIkJ1ZmZlckdlb21ldHJ5IiwicGFydGljbGUiLCJWZWN0b3IzIiwieCIsInkiLCJ6IiwidmVsb2NpdHkiLCJhY2NlbGVyYXRpb24iLCJwdXNoIiwidmFscyIsIk9iamVjdCIsInZhbHVlcyIsInNldEF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIkZsb2F0MzJBcnJheSIsIm1hdCIsIlBvaW50c01hdGVyaWFsIiwiUG9pbnRzIiwicm90YXRpb25TcGQiLCJwb3MiLCJmb3JFYWNoIiwicCIsImF0dHJpYnV0ZXMiLCJuZWVkc1VwZGF0ZSIsIldlYkdMUmVuZGVyZXIiLCJhbnRpYWxpc2luZyIsInNldFNpemUiLCJwaHlzaWNhbGx5Q29ycmVjdExpZ2h0cyIsInNldFBpeGVsUmF0aW8iLCJzaGFkb3dNYXBFbmFibGVkIiwiYm9keSIsImFwcGVuZCIsImlzRGV2IiwiaXNTaG93aW5nU3RhdHMiLCJpc0xvYWRlZCIsImlzVHdlZW5pbmciLCJpc1JvdGF0aW5nIiwiaXNNb3VzZU1vdmluZyIsImlzTW91c2VPdmVyIiwibWF4QW5pc290cm9weSIsImRwciIsImVhc2luZyIsIlRXRUVOIiwiZHVyYXRpb24iLCJtb2RlbCIsInNlbGVjdGVkIiwiaW5pdGlhbFR5cGVzIiwidHlwZSIsIm1vZGVscyIsInBhdGgiLCJzY2FsZSIsInRleHR1cmUiLCJpbWFnZUZpbGVzIiwiaW1hZ2UiLCJlbmFibGVIZWxwZXIiLCJ3aXJlZnJhbWUiLCJ0cmFuc2x1Y2VudCIsIm1hdGVyaWFsIiwiZW1pc3NpdmUiLCJmb3YiLCJhc3BlY3QiLCJwb3NYIiwicG9zWSIsInBvc1oiLCJhdXRvUm90YXRlIiwiYXV0b1JvdGF0ZVNwZWVkIiwicm90YXRlU3BlZWQiLCJ6b29tU3BlZWQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwibWluUG9sYXJBbmdsZSIsIlBJIiwibWF4UG9sYXJBbmdsZSIsIm1pbkF6aW11dGhBbmdsZSIsIkluZmluaXR5IiwibWF4QXppbXV0aEFuZ2xlIiwiZW5hYmxlRGFtcGluZyIsImRhbXBpbmdGYWN0b3IiLCJlbmFibGVab29tIiwiYW1iaWVudExpZ2h0IiwiZW5hYmxlZCIsImRpcmVjdGlvbmFsTGlnaHQiLCJzaGFkb3ciLCJoZWxwZXJFbmFibGVkIiwiYmlhcyIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwicG9pbnRMaWdodCIsImRpc3RhbmNlIiwiaGVtaUxpZ2h0IiwiZ3JvdW5kQ29sb3IiLCJvYmplY3QiLCJwcm9wIiwiZ2V0SGV4U3RyaW5nIiwiaGV4U3RyaW5nIiwiY2FudmFzIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwid2ViZ2wiLCJjcmVhdGVFbGVtZW50IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0Q29udGV4dCIsImUiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJCbG9iIiwiZ2V0V2ViR0xFcnJvck1lc3NhZ2UiLCJlbGVtZW50IiwiaWQiLCJzdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwid2lkdGgiLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJqb2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyYW1ldGVycyIsInBhcmVudCIsInVuZGVmaW5lZCIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiO2lTQVNFQSxRQUFRQyxJQUFJLDJDQUVaQyxpQkFBZSxFQUdqQixXQUVFLEdBQUlDLGdCQUVHLENBQ2FDLFNBQVNDLGVBQWUsaUJBQy9CLElBQUlDLFdBQ1ZDLE9BQU8sR0FBSSxRQUpoQkosK0JBUUpLLEkseVdDZmMsSUFBSUMsUUFJSCxNQUFNSCxFQUNqQkksY0FJRUMsS0FBS0MsUUFBU0Msb0JBQ2RGLEtBQUtDLE9BQU9FLE9BQU8sSUFBSUwsVUFBYyxJQUFLLElBQUssTUFFN0NFLEtBQUtJLFVBQVdDLHNCQUNoQkwsS0FBS00sTUFBUSxJQUFJUixRQUdqQixNQUFNUyxFQUFRLFNBRWRQLEtBQUtRLE9BQVFDLGtCQUFhRixFQURSLEdBRWxCUCxLQUFLTSxNQUFNSSxJQUFJVixLQUFLUSxNQUFNRyxRQUMxQlgsS0FBS00sTUFBTUksSUFBSVYsS0FBS1EsTUFBTyxJQUFJVixlQUFtQlMsRUFBTyxNQUd6RCxJQUFJSyxFQUFrQixJQUFJZCxRQUFZLFVBQ3RDRSxLQUFLTSxNQUFNTyxXQUFhRCxFQUN4QlosS0FBS00sTUFBTVEsS0FBTUMsZUFBVSxTQUFVLEdBQUksS0FFekNDLG9CQUFlaEIsS0FBS0MsT0FBUUQsS0FBS0ksU0FBVUosS0FBS1EsT0FFaEQsSUFBSVMsRUFBUSxJQUFJbkIsVUFBYyxFQUFHLEVBQUcsR0FFbENvQixFQUFNLElBQUlwQixVQUFjLEVBQUcsRUFBRyxHQUNoQ0UsS0FBS21CLGdCQUFpQkMscUJBQWdCLElBQU8sUUFBVSxJQUFLSCxFQUFLQyxHQUNuRWxCLEtBQUtNLE1BQU1JLElBQUlWLEtBQUttQixlQUFlRSxNQUdqQ3JCLEtBQUtKLE9BQVNJLEtBQUtKLE9BQU8wQixLQUFLdEIsTUFJbkNKLE9BQU8yQixFQUFNQyxHQUVUeEIsS0FBS0ksU0FBU3FCLGtCQUFpQixLQUMvQixNQUFNQyxHQUFjLEtBQVBILEVBS2J2QixLQUFLbUIsZUFBZVEsUUFBUUQsR0FDNUIxQixLQUFLSSxTQUFTUixPQUFPSSxLQUFLTSxNQUFPTixLQUFLQyxjLGdKQ3pEOUMsU0FBU0MsSUFDTCxNQUFNRCxFQUFTLElBQUkyQixvQkFBa0IsR0FBSUMsT0FBT0MsV0FBYUQsT0FBT0UsWUFBYSxHQUFLLEtBRXRGLE9BREE5QixFQUFPK0IsU0FBU0MsSUFBSSxFQUFHLEVBQUcsSUFDbkJoQyxJLGtSQ0RYLFNBQVNlLEVBQWVmLEVBQVFHLEVBQVVJLEdBRTlCLE1BQU0wQixFQUFXLElBQUlDLGdCQUFjbEMsRUFBUUcsRUFBU2dDLFlBQ3hERixFQUFTdkIsT0FBT3NCLElBQUksRUFBRyxFQUFHLEdBQzFCQyxFQUFTRyxTQUVULE1BQU1DLEVBQU0sSUFBSUMsTUFDaEJELEVBQUlFLFNBQVMsSUFBSUMsVUFBZWpDLEVBQU8sU0FBVSxTQUFTa0MsS0FBSyxTQUMvREosRUFBSTVCLElBQUlGLEVBQU8sWUFBYSxFQUFHLEVBQUcsTywwSUNYMUMsU0FBU08sRUFBVUgsRUFBaUIrQixFQUFNQyxHQUNwQyxPQUFPLElBQUlDLE1BQUlqQyxFQUFpQitCLEVBQU1DLEssZ0pDRDVDLFNBQVNuQyxFQUFhRixFQUFPdUMsR0FDckIsTUFBTXRDLEVBQVEsSUFBSXVDLG1CQUFpQnhDLEVBQU91QyxHQUUxQyxPQURBdEMsRUFBTXdCLFNBQVNDLEtBQUssR0FBSSxHQUFJLElBQ3JCekIsSSwySkNGZixNQUFNd0MsRUFBTyxDQUFDOUIsRUFBSUQsSUFBUUMsRUFBTStCLEtBQUtDLFVBQVVqQyxFQUFJQyxHQUNuRCxTQUFTRSxFQUFnQitCLEVBQU81QyxFQUFPNkMsRUFBTUMsRUFBWUMsR0FDdkQsTUFBTUMsRUFBWSxHQUNaQyxFQUFXLEdBQ1hDLEVBQU0sSUFBSUMsaUJBR2hCLElBQUssSUFBSWxDLEVBQUksRUFBR0EsRUFBSTJCLEVBQU8zQixJQUFNLENBQy9CLE1BQU1tQyxFQUFXLENBQ2YzQixTQUFVLElBQUk0QixVQUFRWixFQUFLTSxFQUFXTyxFQUFHUixFQUFXUSxHQUFHYixFQUFLTSxFQUFXUSxFQUFHVCxFQUFXUyxHQUFJZCxFQUFLTSxFQUFXUyxHQUFJVixFQUFXVSxJQUN4SEMsU0FBVSxJQUFJSixVQUFRWixFQUFLLEtBQU8sS0FBTyxJQUFNQSxFQUFLLEtBQU8sTUFDM0RpQixhQUFjLElBQUlMLFVBQVEsS0FBUSxLQUFRLE9BRTVDTCxFQUFVVyxLQUFLUCxHQUNmLE1BQU1RLEVBQU9DLE9BQU9DLE9BQU9WLEVBQVMzQixVQUNwQ3dCLEVBQVNVLFFBQVFDLEdBRW5COUUsUUFBUUMsSUFBSSxhQUFja0UsR0FDMUJDLEVBQUlhLGFBQWEsV0FBWSxJQUFJQyxrQkFBZ0IsSUFBSUMsYUFBYWhCLEdBQVcsSUFDN0UsTUFBTWlCLEVBQU0sSUFBSUMsaUJBQWUsQ0FBQ25FLE1BQU9BLEVBQU82QyxLQUFNQSxJQW9CcEQsTUFBTyxDQUFDL0IsS0FuQkssSUFBSXNELFNBQU9sQixFQUFLZ0IsR0FtQmY5QyxRQWpCZCxTQUFpQmlELEdBQ2YsTUFBTUMsRUFBTSxHQUNadEIsRUFBVXVCLFNBQVFDLElBRWhCQSxFQUFFL0MsU0FBU3RCLElBQUlxRSxFQUFFZixVQUNiZSxFQUFFL0MsU0FBUzhCLEVBQUksS0FHakJpQixFQUFFL0MsU0FBVyxJQUFJNEIsVUFBUVosRUFBS00sRUFBV08sRUFBR1IsRUFBV1EsR0FBR2IsRUFBS00sRUFBV1EsRUFBR1QsRUFBV1MsR0FBSWQsRUFBS00sRUFBV1MsR0FBSVYsRUFBV1UsS0FFN0gsTUFBTUksRUFBT0MsT0FBT0MsT0FBT1UsRUFBRS9DLFVBQzdCNkMsRUFBSVgsUUFBUUMsTUFFZFYsRUFBSWEsYUFBYSxXQUFZLElBQUlDLGtCQUFnQixJQUFJQyxhQUFhSyxHQUFNLElBQ3hFcEIsRUFBSXVCLFdBQVdoRCxTQUFTaUQsYUFBYyxNLG9KQ3JDMUMsU0FBUzVFLElBQ0osTUFBTUQsRUFBVyxJQUFJOEUsZ0JBQWMsQ0FBQ0MsYUFBYSxJQVNsRCxPQVJGL0UsRUFBU2dGLFFBQVF2RCxPQUFPQyxXQUFZRCxPQUFPRSxhQUMzQzNCLEVBQVNpRix5QkFBMEIsRUFDL0JqRixFQUFTa0YsY0FBYyxHQUN2QmxGLEVBQVNtRixrQkFBbUIsRUFJMUI5RixTQUFTK0YsS0FBS0MsT0FBT3JGLEVBQVNnQyxZQUMzQmhDLEksK0VDUlgsU0FDRXNGLE9BQU8sRUFDUEMsZ0JBQWdCLEVBQ2hCQyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsWUFBWSxFQUNaQyxlQUFlLEVBQ2ZDLGFBQWEsRUFDYkMsY0FBZSxFQUNmQyxJQUFLLEVBQ0xDLE8sd0RBQVFDLCtCQUNSQyxTQUFVLElBQ1ZDLE1BQU8sQ0FDTEMsU0FBVSxFQUNWQyxhQUFjLENBQUMsT0FBUSxVQUN2QkMsS0FBTSxRQUVSQyxPQUFRLENBQ04sQ0FDRUMsS0FBTSw0QkFDTkMsTUFBTyxHQUNQSCxLQUFNLFFBRVIsQ0FDRUUsS0FBTSw4QkFDTkMsTUFBTyxHQUNQSCxLQUFNLFdBR1ZJLFFBQVMsQ0FDUEYsS0FBTSxxQkFDTkcsV0FBWSxDQUNWLENBQUVwRSxLQUFNLEtBQU1xRSxNQUFPLG9CQUd6QjFGLEtBQU0sQ0FDSjJGLGNBQWMsRUFDZEMsV0FBVyxFQUNYQyxhQUFhLEVBQ2JDLFNBQVUsQ0FDUjVHLE1BQU8sU0FDUDZHLFNBQVUsV0FHZHRHLElBQUssQ0FDSFAsTUFBTyxTQUNQb0MsS0FBTSxNQUVSMUMsT0FBUSxDQUNOb0gsSUFBSyxHQUNMMUUsS0FBTSxFQUNOQyxJQUFLLElBQ0wwRSxPQUFRLEVBQ1JDLEtBQU0sRUFDTkMsS0FBTSxHQUNOQyxLQUFNLElBRVJ2RixTQUFVLENBQ1J3RixZQUFZLEVBQ1pDLGlCQUFrQixHQUNsQkMsWUFBYSxHQUNiQyxVQUFXLEdBQ1hDLFlBQWEsSUFDYkMsWUFBYSxJQUNiQyxjQUFlL0UsS0FBS2dGLEdBQUssRUFDekJDLGNBQWVqRixLQUFLZ0YsR0FBSyxFQUN6QkUsaUJBQWtCQyxJQUNsQkMsZ0JBQWlCRCxJQUNqQkUsZUFBZSxFQUNmQyxjQUFlLEdBQ2ZDLFlBQVksRUFDWjdILE9BQVEsQ0FDTmtELEVBQUcsRUFDSEMsRUFBRyxFQUNIQyxFQUFHLElBR1AwRSxhQUFjLENBQ1pDLFNBQVMsRUFDVG5JLE1BQU8sU0FFVG9JLGlCQUFrQixDQUNoQkQsU0FBUyxFQUNUbkksTUFBTyxTQUNQdUMsVUFBVyxHQUNYZSxHQUFJLEdBQ0pDLEVBQUcsSUFDSEMsRUFBRyxLQUVMNkUsT0FBUSxDQUNORixTQUFTLEVBQ1RHLGVBQWUsRUFDZkMsS0FBTSxFQUNOQyxTQUFVLEtBQ1ZDLFVBQVcsS0FDWHJHLEtBQU0sSUFDTkMsSUFBSyxJQUNMcUcsSUFBSyxJQUNMQyxNQUFPLElBQ1BDLFFBQVMsSUFDVEMsTUFBTyxLQUVUQyxXQUFZLENBQ1ZYLFNBQVMsRUFDVG5JLE1BQU8sU0FDUHVDLFVBQVcsSUFDWHdHLFNBQVUsSUFDVnpGLEVBQUcsRUFDSEMsRUFBRyxFQUNIQyxFQUFHLEdBRUx3RixVQUFXLENBQ1RiLFNBQVMsRUFDVG5JLE1BQU8sU0FDUGlKLFlBQWEsU0FDYjFHLFVBQVcsSUFDWGUsRUFBRyxFQUNIQyxFQUFHLEVBQ0hDLEVBQUcsSyx3RkN6SFEsTUFBTXRCLEVBQ2YxQyxZQUFZMEosRUFBUUMsR0FDbEIxSixLQUFLeUosT0FBU0EsRUFDZHpKLEtBQUswSixLQUFPQSxFQUVMLFlBQ1AsTUFBUSxJQUFHMUosS0FBS3lKLE9BQU96SixLQUFLMEosTUFBTUMsaUJBRTNCLFVBQUNDLEdBQ1I1SixLQUFLeUosT0FBT3pKLEtBQUswSixNQUFNekgsSUFBSTJILE0sa0ZDSm5DLFNBQ0VDLFNBQVVoSSxPQUFPaUkseUJBQ2pCQyxNQUFRLFdBQ04sSUFDRSxJQUFJRixFQUFTcEssU0FBU3VLLGNBQWMsVUFFcEMsU0FBVW5JLE9BQU9vSSx3QkFBMEJKLEVBQU9LLFdBQVcsV0FBWUwsRUFBT0ssV0FBVyx1QkFDM0YsTUFBTUMsR0FDTixPQUFPLEdBTkgsR0FVUkMsVUFBV3ZJLE9BQU93SSxPQUNsQkMsUUFBU3pJLE9BQU8wSSxNQUFRMUksT0FBTzJJLFlBQWMzSSxPQUFPNEksVUFBWTVJLE9BQU82SSxLQUV2RUMscUJBQXNCLFdBQ3BCLElBQUlDLEVBQVVuTCxTQUFTdUssY0FBYyxPQXNCckMsT0FyQkFZLEVBQVFDLEdBQUssc0JBQ2JELEVBQVFFLE1BQU1DLFdBQWEsWUFDM0JILEVBQVFFLE1BQU1FLFNBQVcsT0FDekJKLEVBQVFFLE1BQU1HLFdBQWEsU0FDM0JMLEVBQVFFLE1BQU1JLFVBQVksU0FDMUJOLEVBQVFFLE1BQU1qSyxXQUFhLE9BQzNCK0osRUFBUUUsTUFBTXZLLE1BQVEsT0FDdEJxSyxFQUFRRSxNQUFNSyxRQUFVLFFBQ3hCUCxFQUFRRSxNQUFNTSxNQUFRLFFBQ3RCUixFQUFRRSxNQUFNTyxPQUFTLGFBRW5CckwsS0FBSytKLFFBQ1BhLEVBQVFVLFVBQVl6SixPQUFPb0ksc0JBQXdCLENBQ2pELDRKQUNBLDBGQUNBc0IsS0FBSyxNQUFRLENBQ2IscUpBQ0EsMEZBQ0FBLEtBQUssT0FHRlgsR0FHVFksbUJBQW9CLFNBQVNDLEdBQzNCLElBQUlDLEVBQVFiLEVBQUlELEVBSWhCYyxPQUErQkMsS0FGL0JGLEVBQWFBLEdBQWMsSUFFUEMsT0FBdUJELEVBQVdDLE9BQVNqTSxTQUFTK0YsS0FDeEVxRixPQUF1QmMsSUFBbEJGLEVBQVdaLEdBQW1CWSxFQUFXWixHQUFLLFNBRW5ERCxFQUFVNUssS0FBSzJLLHdCQUNQRSxHQUFLQSxFQUViYSxFQUFPRSxZQUFZaEIsTSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb25maWcgZnJvbSAnLi9kYXRhL2NvbmZpZyc7XG5pbXBvcnQgRGV0ZWN0b3IgZnJvbSAnLi91dGlscy9kZXRlY3Rvcic7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL2FwcC9tYWluJztcblxuLy8gU3R5bGVzXG5pbXBvcnQgJy4vLi4vY3NzL2FwcC5zY3NzJztcblxuLy8gQ2hlY2sgZW52aXJvbm1lbnQgYW5kIHNldCB0aGUgQ29uZmlnIGhlbHBlclxuaWYoX19FTlZfXyA9PT0gJ2RldicpIHtcbiAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpO1xuXG4gIENvbmZpZy5pc0RldiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIC8vIENoZWNrIGZvciB3ZWJHTCBjYXBhYmlsaXRpZXNcbiAgaWYoIURldGVjdG9yLndlYmdsKSB7XG4gICAgRGV0ZWN0b3IuYWRkR2V0V2ViR0xNZXNzYWdlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcENvbnRhaW5lcicpO1xuICAgIGxldCBoYW5rID0gbmV3IFRleHR1cmUoKTtcbiAgICBoYW5rLnJlbmRlcigyMCwgMClcbiAgfVxufVxuXG5pbml0KCk7XG4iLCIvLyBHbG9iYWwgaW1wb3J0cyAtXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQge0J1ZmZlckdlb21ldHJ5VXRpbHN9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS91dGlscy9CdWZmZXJHZW9tZXRyeVV0aWxzLmpzJ1xuaW1wb3J0IHtjcmVhdGVDYW1lcmF9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FtZXJhLmpzJ1xuaW1wb3J0IHtjcmVhdGVMaWdodHN9IGZyb20gJy4uL2NvbXBvbmVudHMvbGlnaHRzLmpzJ1xuaW1wb3J0IHtjcmVhdGVSZW5kZXJlcn0gZnJvbSAnLi4vY29tcG9uZW50cy9yZW5kZXJlci5qcydcbmltcG9ydCB7IGNyZWF0ZUZvZ30gZnJvbSAnLi4vY29tcG9uZW50cy9mb2cuanMnXG5pbXBvcnQge2NyZWF0ZUNvbnRyb2xzfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnRyb2xzLmpzJ1xuaW1wb3J0IHtjcmVhdGVQYXJ0aWNsZXN9IGZyb20gJy4uL2NvbXBvbmVudHMvcGFydGljbGVTeXN0ZW0uanMnXG5cbmNvbnN0IGNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKClcblxuXG4vLyBUaGlzIGNsYXNzIGluc3RhbnRpYXRlcyBhbmQgdGllcyBhbGwgb2YgdGhlIGNvbXBvbmVudHMgdG9nZXRoZXIsIHN0YXJ0cyB0aGUgbG9hZGluZyBwcm9jZXNzIGFuZCByZW5kZXJzIHRoZSBtYWluIGxvb3BcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBzZXQgdXAgc2NlbmVcbiAgICAgICAgLy8gQ0FNRVJBXG4gICAgICAgIC8vIGZvdiwgYXNwZWN0LCBuZWFyLCBmYXJcbiAgICAgIHRoaXMuY2FtZXJhID0gY3JlYXRlQ2FtZXJhKClcbiAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMyg1MDAwLDIwMCwgMjAwMDApKVxuICAgICAgICAvLyBTQ0VORSAmIFJFTkRFUlxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIoKVxuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cbiAgICAgICAgLy9MSUdIVFNcbiAgICAgICAgY29uc3QgY29sb3IgPSAweEZGRkZGRlxuICAgICAgICBjb25zdCBpbnRlbnNpdHkgPSA0XG4gICAgICAgIHRoaXMubGlnaHQgPSBjcmVhdGVMaWdodHMoY29sb3IsIGludGVuc2l0eSlcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5saWdodC50YXJnZXQpXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubGlnaHQsIG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoY29sb3IsIDEuNSkpXG5cbiAgICAgICAgLy9CQUNLR1JPVU5EICYgRk9HXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoMHhmZjVlMWYpXG4gICAgICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvclxuICAgICAgICB0aGlzLnNjZW5lLmZvZyA9IGNyZWF0ZUZvZygweGZmZWE0ZCwgMTUsIDIwKVxuICAgICAgICAvLyBDT05UUk9MU1xuICAgICAgICBjcmVhdGVDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlciwgdGhpcy5saWdodClcbiAgICAgICAgICAgLy8gc2hhcGVzICYgdGV4dHVyZXNcbiAgICAgICAgbGV0IG1heCA9ICAobmV3IFRIUkVFLlZlY3RvcjMoMCwgMywgMCkpXG4vLyAgICAgIG1pbi5tdWx0aXBseVNjYWxhcigtMSlcbiAgICAgIGxldCBtaW4gPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKVxuICAgICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtID0gY3JlYXRlUGFydGljbGVzKDIwMDAwLCAweDYzNTU1NCwgMC4wNSxtYXgsIG1pbilcbiAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGFydGljbGVTeXN0ZW0ubWVzaClcblxuICAgICAgICAvL2JpbmQgY2xhc3MgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKSAvL2JpbmQgdG8gY2xhc3MgaW5zdGVhZCBvZiB3aW5kb3cgb2JqZWN0XG5cbiAgICB9XG5cbiAgICByZW5kZXIodGltZSwgaSkge1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHhTcGQgPSB0aW1lICotMC4wMDA1XG4gICAgICAgIC8vVE9ETzogdXBkYXRlIHRvIHByb3BlciBhbmltYXRpb24gbG9vcCBwZXIgaHR0cHM6Ly9kaXNjb3ZlcnRocmVlanMuY29tL2Jvb2svZmlyc3Qtc3RlcHMvYW5pbWF0aW9uLWxvb3AvI3RpbWluZy1pbi10aGUtYW5pbWF0aW9uLXN5c3RlbVxuLy8gICAgICAgIHRoaXMudHJhaW4ucm90YXRpb24ueSArPSB4U3BkXG5cblxuICAgICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLmFuaW1hdGUoeFNwZClcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpXG59KVxuXG5cbn1cbn1cbiIsImltcG9ydCB7IFBlcnNwZWN0aXZlQ2FtZXJhIH0gZnJvbSAndGhyZWUnXG4vL1RPRE8gYWN0dWFsbHkgYWRkIGFyZ3MvbWFrZSB0aGlzIGdvb2RcbmZ1bmN0aW9uIGNyZWF0ZUNhbWVyYSgpIHtcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDMwMCk7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCg1LCAyLCAxMClcbiAgICByZXR1cm4gY2FtZXJhXG59XG5leHBvcnQge2NyZWF0ZUNhbWVyYX1cblxuIiwiaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzJztcbmltcG9ydCB7IEdVSSB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9saWJzL2xpbC1ndWkubW9kdWxlLm1pbi5qcydcbmltcG9ydCBDb2xvckdVSUhlbHBlciBmcm9tICcuLi91dGlscy9Db2xvckdVSUhlbHBlci5qcydcblxuZnVuY3Rpb24gY3JlYXRlQ29udHJvbHMoY2FtZXJhLCByZW5kZXJlciwgbGlnaHQpIHtcbiAgIC8vIGNhbWVyYVxuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpXG4gICAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXQoMCwgNSwgMClcbiAgICAgICAgY29udHJvbHMudXBkYXRlKClcbiAgICAgICAgLy9saWdodCBndWlcbiAgICAgICAgY29uc3QgZ3VpID0gbmV3IEdVSSgpXG4gICAgICAgIGd1aS5hZGRDb2xvcihuZXcgQ29sb3JHVUlIZWxwZXIobGlnaHQsICdjb2xvcicpLCAndmFsdWUnKS5uYW1lKCdjb2xvcicpXG4gICAgICAgIGd1aS5hZGQobGlnaHQsICdpbnRlbnNpdHknLCAwLCAyLCAwLjAxKVxufVxuXG5leHBvcnQge2NyZWF0ZUNvbnRyb2xzfVxuIiwiaW1wb3J0IHsgRm9nIH0gZnJvbSAndGhyZWUnXG5mdW5jdGlvbiBjcmVhdGVGb2coYmFja2dyb3VuZENvbG9yLCBuZWFyLCBmYXIpIHtcbiAgICAgIHJldHVybiBuZXcgRm9nKGJhY2tncm91bmRDb2xvciwgbmVhciwgZmFyKTtcbn1cblxuZXhwb3J0IHtjcmVhdGVGb2d9XG4iLCJpbXBvcnQgeyBEaXJlY3Rpb25hbExpZ2h0IH0gZnJvbSAndGhyZWUnXG5mdW5jdGlvbiBjcmVhdGVMaWdodHMoY29sb3IsIGludGVuc2l0eSkge1xuICAgICAgICBjb25zdCBsaWdodCA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KGNvbG9yLCBpbnRlbnNpdHkpO1xuICAgICAgICBsaWdodC5wb3NpdGlvbi5zZXQoLTEwLCAxMCwgMTApXG4gICAgICAgIHJldHVybiBsaWdodFxufVxuZXhwb3J0IHtjcmVhdGVMaWdodHN9XG5cbiIsImltcG9ydCB7IEJ1ZmZlckdlb21ldHJ5LCBCdWZmZXJBdHRyaWJ1dGUsIFZlY3RvcjMsIFBvaW50c01hdGVyaWFsLCBQb2ludHMgfSBmcm9tICd0aHJlZSdcblxuY29uc3QgcmFuZCA9IChtaW4sbWF4KSA9PiBtaW4gKyBNYXRoLnJhbmRvbSgpKihtYXgtbWluKVxuZnVuY3Rpb24gY3JlYXRlUGFydGljbGVzKGNvdW50LCBjb2xvciwgc2l6ZSwgaW5pdFBvc01heCwgaW5pdFBvc01pbikge1xuICBjb25zdCBwYXJ0aWNsZXMgPSBbXVxuICBjb25zdCB2ZXJ0aWNlcyA9IFtdXG4gIGNvbnN0IGdlbyA9IG5ldyBCdWZmZXJHZW9tZXRyeVxuICAvL3RvZG86IHNlcGFyYXRlIHBhcnRpY2xlIGNvbXBvbmVudD9cbiAgLy8gZmlyc3QgbG9vcCBsb29rcyB0b28gdW5pZm9ybSwgZ290dGEgZmlndXJlIHRoYXQgb3V0XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkgKyspIHtcbiAgICBjb25zdCBwYXJ0aWNsZSA9IHtcbiAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyhyYW5kKGluaXRQb3NNaW4ueCwgaW5pdFBvc01heC54KSxyYW5kKGluaXRQb3NNaW4ueSwgaW5pdFBvc01heC55KSwgcmFuZChpbml0UG9zTWluLnosIC1pbml0UG9zTWF4LnopKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVmVjdG9yMyhyYW5kKDAuMDAxLCAwLjAzKSwgMC4wNiwgcmFuZCgwLjAwMSwgMC4wMykpLFxuICAgICAgYWNjZWxlcmF0aW9uOiBuZXcgVmVjdG9yMygwLjAwMDEsIDAuMDAwMSwgMC4wMDAxKVxuICAgIH1cbiAgICBwYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSlcbiAgICBjb25zdCB2YWxzID0gT2JqZWN0LnZhbHVlcyhwYXJ0aWNsZS5wb3NpdGlvbilcbiAgICB2ZXJ0aWNlcy5wdXNoKC4uLnZhbHMpXG4gIH1cbiAgY29uc29sZS5sb2coJ3ZlcnRpY2VzOiAnLCB2ZXJ0aWNlcylcbiAgZ2VvLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpLCAzKSlcbiAgY29uc3QgbWF0ID0gbmV3IFBvaW50c01hdGVyaWFsKHtjb2xvcjogY29sb3IsIHNpemU6IHNpemV9KVxuICBjb25zdCBtZXNoID0gbmV3IFBvaW50cyhnZW8sIG1hdClcbiAgLy9UT0RPIGFkZCByb3RhdGlvbiBvcHRpb25zP1xuICBmdW5jdGlvbiBhbmltYXRlKHJvdGF0aW9uU3BkKSB7XG4gICAgY29uc3QgcG9zID0gW11cbiAgICBwYXJ0aWNsZXMuZm9yRWFjaChwID0+IHtcbi8vICAgICAgcC52ZWxvY2l0eS5hZGQocC5hY2NlbGVyYXRpb24pXG4gICAgICBwLnBvc2l0aW9uLmFkZChwLnZlbG9jaXR5KVxuICAgICAgaWYgKHAucG9zaXRpb24ueSA+IDEwKSB7XG4gICAgICAgIC8vdGhpcyBtYWRlIHRoZSBjaGltbmV5IGZseSB0b28gLSAgd2lsZCBzaGl0IChwcmVzdW1hYmx5IGRpcmVjdCByZWZlcmVuY2UgdG8gaW5pdGlhbCBwb3NpdGlvbj8pXG4vLyAgICAgICAgcC5wb3NpdGlvbiA9IGluaXRQb3M7XG4gICAgICAgIHAucG9zaXRpb24gPSBuZXcgVmVjdG9yMyhyYW5kKGluaXRQb3NNaW4ueCwgaW5pdFBvc01heC54KSxyYW5kKGluaXRQb3NNaW4ueSwgaW5pdFBvc01heC55KSwgcmFuZChpbml0UG9zTWluLnosIC1pbml0UG9zTWF4LnopKVxuICAgICAgfVxuICAgICAgY29uc3QgdmFscyA9IE9iamVjdC52YWx1ZXMocC5wb3NpdGlvbilcbiAgICAgIHBvcy5wdXNoKC4uLnZhbHMpXG4gICAgfSlcbiAgICBnZW8uc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShwb3MpLCAzKSlcbiAgICBnZW8uYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWVcbi8vICAgIG1lc2gucm90YXRpb24ueSArPSByb3RhdGlvblNwZFxuICB9XG4gIHJldHVybiB7bWVzaCwgYW5pbWF0ZX1cbn1cbmV4cG9ydCB7IGNyZWF0ZVBhcnRpY2xlcyB9XG4iLCJpbXBvcnQgIHsgV2ViR0xSZW5kZXJlciB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe2FudGlhbGlzaW5nOiB0cnVlfSk7XG4gIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbiAgcmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbygyLjApXG4gICAgICByZW5kZXJlci5zaGFkb3dNYXBFbmFibGVkID0gdHJ1ZVxuICAgICAgICAvL2NhbWVyYSBoZWxwZXIsIGlmIG5lZWRlZFxuLy8gICAgICAgIHRoaXMuc2NlbmUuYWRkKG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5jYW1lcmEpKVxuICAgICAgICAvL2RvIG5vdCBldmVyIGRlbGV0ZSBtZVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChyZW5kZXJlci5kb21FbGVtZW50KVxuICAgIHJldHVybiByZW5kZXJlclxuXG59XG5leHBvcnQge2NyZWF0ZVJlbmRlcmVyfVxuIiwiaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcblxuLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHN0YXRlIG9mIHRoZSBhcHBcbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNEZXY6IGZhbHNlLFxuICBpc1Nob3dpbmdTdGF0czogdHJ1ZSxcbiAgaXNMb2FkZWQ6IGZhbHNlLFxuICBpc1R3ZWVuaW5nOiBmYWxzZSxcbiAgaXNSb3RhdGluZzogdHJ1ZSxcbiAgaXNNb3VzZU1vdmluZzogZmFsc2UsXG4gIGlzTW91c2VPdmVyOiBmYWxzZSxcbiAgbWF4QW5pc290cm9weTogMSxcbiAgZHByOiAxLFxuICBlYXNpbmc6IFRXRUVOLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsXG4gIGR1cmF0aW9uOiA1MDAsXG4gIG1vZGVsOiB7XG4gICAgc2VsZWN0ZWQ6IDAsXG4gICAgaW5pdGlhbFR5cGVzOiBbJ2dsdGYnLCAnb2JqZWN0J10sXG4gICAgdHlwZTogJ2dsdGYnXG4gIH0sXG4gIG1vZGVsczogW1xuICAgIHtcbiAgICAgIHBhdGg6ICcuL2Fzc2V0cy9tb2RlbHMvZHVjay5nbHRmJyxcbiAgICAgIHNjYWxlOiAyMCxcbiAgICAgIHR5cGU6ICdnbHRmJ1xuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogJy4vYXNzZXRzL21vZGVscy9UZWFwb3QuanNvbicsXG4gICAgICBzY2FsZTogMjAsXG4gICAgICB0eXBlOiAnb2JqZWN0J1xuICAgIH1cbiAgXSxcbiAgdGV4dHVyZToge1xuICAgIHBhdGg6ICcuL2Fzc2V0cy90ZXh0dXJlcy8nLFxuICAgIGltYWdlRmlsZXM6IFtcbiAgICAgIHsgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfVxuICAgIF1cbiAgfSxcbiAgbWVzaDoge1xuICAgIGVuYWJsZUhlbHBlcjogdHJ1ZSxcbiAgICB3aXJlZnJhbWU6IGZhbHNlLFxuICAgIHRyYW5zbHVjZW50OiBmYWxzZSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXG4gICAgfVxuICB9LFxuICBmb2c6IHtcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgbmVhcjogMC4wMDA4XG4gIH0sXG4gIGNhbWVyYToge1xuICAgIGZvdjogNDAsXG4gICAgbmVhcjogMixcbiAgICBmYXI6IDEwMDAsXG4gICAgYXNwZWN0OiAxLFxuICAgIHBvc1g6IDAsXG4gICAgcG9zWTogMzAsXG4gICAgcG9zWjogNDBcbiAgfSxcbiAgY29udHJvbHM6IHtcbiAgICBhdXRvUm90YXRlOiB0cnVlLFxuICAgIGF1dG9Sb3RhdGVTcGVlZDogLTAuNSxcbiAgICByb3RhdGVTcGVlZDogMC41LFxuICAgIHpvb21TcGVlZDogMC44LFxuICAgIG1pbkRpc3RhbmNlOiAyMDAsXG4gICAgbWF4RGlzdGFuY2U6IDYwMCxcbiAgICBtaW5Qb2xhckFuZ2xlOiBNYXRoLlBJIC8gNSxcbiAgICBtYXhQb2xhckFuZ2xlOiBNYXRoLlBJIC8gMixcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhBemltdXRoQW5nbGU6IEluZmluaXR5LFxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxuICAgIGVuYWJsZVpvb206IHRydWUsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDBcbiAgICB9XG4gIH0sXG4gIGFtYmllbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4MTQxNDE0XG4gIH0sXG4gIGRpcmVjdGlvbmFsTGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweGYwZjBmMCxcbiAgICBpbnRlbnNpdHk6IDAuNCxcbiAgICB4OiAtNzUsXG4gICAgeTogMjgwLFxuICAgIHo6IDE1MFxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGhlbHBlckVuYWJsZWQ6IHRydWUsXG4gICAgYmlhczogMCxcbiAgICBtYXBXaWR0aDogMjA0OCxcbiAgICBtYXBIZWlnaHQ6IDIwNDgsXG4gICAgbmVhcjogMjUwLFxuICAgIGZhcjogNDAwLFxuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAtMTAwLFxuICAgIGxlZnQ6IC0xMDBcbiAgfSxcbiAgcG9pbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC4zNCxcbiAgICBkaXN0YW5jZTogMTE1LFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB6OiAwXG4gIH0sXG4gIGhlbWlMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4YzhjOGM4LFxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcbiAgICBpbnRlbnNpdHk6IDAuNTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yR1VJSGVscGVyIHtcbiAgICAgIGNvbnN0cnVjdG9yKG9iamVjdCwgcHJvcCkge1xuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgIH1cbiAgICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGAjJHt0aGlzLm9iamVjdFt0aGlzLnByb3BdLmdldEhleFN0cmluZygpfWA7XG4gICAgICB9XG4gICAgICBzZXQgdmFsdWUoaGV4U3RyaW5nKSB7XG4gICAgICAgIHRoaXMub2JqZWN0W3RoaXMucHJvcF0uc2V0KGhleFN0cmluZyk7XG4gICAgICB9XG59XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxuICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuICAgIGlmKCF0aGlzLndlYmdsKSB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgIF0uam9pbignXFxuJykgOiBbXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgcGFyZW50ID0gcGFyYW1ldGVycy5wYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMucGFyZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcbiAgICBlbGVtZW50LmlkID0gaWQ7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9