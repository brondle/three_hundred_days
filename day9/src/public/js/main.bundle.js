/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,s)=>{"use strict";s.r(t);var n=s("./src/js/data/config.js"),r=s("./src/js/utils/detector.js"),o=s("./src/js/app/main.js");s("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),n.default.isDev=!0,function(){if(r.default.webgl){document.getElementById("appContainer");(new o.default).render(20,0)}else r.default.addGetWebGLMessage()}()},"./src/js/app/main.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s("./node_modules/three/build/three.module.js"),r=s("./src/js/components/camera.js"),o=s("./src/js/components/lights.js"),i=s("./src/js/components/renderer.js"),a=s("./src/js/components/fog.js"),l=s("./src/js/components/controls.js"),c=s("./src/js/components/Train/Train.js");const d=new n.Clock;class h{constructor(){this.camera=(0,r.createCamera)(),this.camera.lookAt(new n.Vector3(5e3,200,2e4)),this.renderer=(0,i.createRenderer)(),this.scene=new n.Scene;const e=16777215;this.light=(0,o.createLights)(e,4),this.scene.add(this.light.target),this.scene.add(this.light,new n.AmbientLight(e,.5));let t=new n.Color("lightblue");this.scene.background=t,this.scene.fog=(0,a.createFog)(t,15e3,25e3),(0,l.createControls)(this.camera,this.renderer,this.light);const s=new c.Train;this.train=s,this.scene.add(s),this.render=this.render.bind(this)}render(e,t){this.renderer.setAnimationLoop((()=>{this.train.tick(d.getDelta()),this.renderer.render(this.scene,this.camera)}))}}},"./src/js/components/Train/Train.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{Train:()=>i});var n=s("./node_modules/three/build/three.module.js"),r=(s("./src/js/components/Train/geometries.js"),s("./src/js/components/Train/materials.js"),s("./src/js/components/Train/meshes.js"));const o=n.MathUtils.degToRad(24);class i extends n.Group{constructor(){super(),this.meshes=(0,r.createMeshes)(),this.add(this.meshes.face,this.meshes.nose,this.meshes.cabin,this.meshes.chimney,this.meshes.smallWheelRear,this.meshes.smallWheelCenter,this.meshes.smallWheelFront,this.meshes.bigWheel),this.wheels=[this.meshes.smallWheelRear,this.meshes.smallWheelCenter,this.meshes.smallWheelFront,this.meshes.bigWheel]}tick(e){this.wheels.forEach((t=>{t.rotation.y+=o*e}))}}},"./src/js/components/Train/geometries.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createGeometries:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.BoxBufferGeometry(2,2.25,1.5),t=new n.CylinderBufferGeometry(.75,.75,3,12),s=new n.CircleGeometry(.75,12);return{cabin:e,nose:t,wheel:new n.CylinderBufferGeometry(.4,.4,1.75,16),chimney:new n.CylinderBufferGeometry(.3,.1,.5),face:s}}},"./src/js/components/Train/materials.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMaterials:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.MeshStandardMaterial({color:"cyan",flatShading:!0}),t=new n.MeshStandardMaterial({color:"lightGray",flatShading:!0}),s=(new n.TextureLoader).load("thomas.png");s.repeat.set(.5,.5),s.offset.set(.5);return{body:e,detail:t,face:new n.MeshStandardMaterial({map:s,flatShading:!0})}}},"./src/js/components/Train/meshes.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMeshes:()=>i});var n=s("./node_modules/three/build/three.module.js"),r=s("./src/js/components/Train/geometries.js"),o=s("./src/js/components/Train/materials.js");function i(){const e=(0,r.createGeometries)(),t=(0,o.createMaterials)(),s=new n.Mesh(e.cabin,t.body);s.position.set(1.5,1.4,0);const i=new n.Mesh(e.chimney,t.detail);i.position.set(-2,1.9,0);const a=new n.Mesh(e.nose,t.body);a.position.set(-1,1,0),a.rotation.z=Math.PI/2;const l=new n.Mesh(e.face,t.face);l.position.set(-2.6,1,0),l.rotation.y=-Math.PI/2;const c=new n.Mesh(e.wheel,t.detail);c.position.y=.5,c.rotation.x=Math.PI/2;const d=c.clone();d.position.x=-1;const h=c.clone();h.position.x=-2;const m=c.clone();return m.position.set(1.5,.9,0),m.scale.set(2,1.25,2),{face:l,nose:a,cabin:s,chimney:i,smallWheelRear:c,smallWheelCenter:d,smallWheelFront:h,bigWheel:m}}},"./src/js/components/camera.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createCamera:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,300);return e.position.set(5,0,5),e}},"./src/js/components/controls.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createControls:()=>i});var n=s("./node_modules/three/examples/jsm/controls/OrbitControls.js"),r=s("../node_modules/three/examples/jsm/libs/lil-gui.module.min.js"),o=s("./src/js/utils/ColorGUIHelper.js");function i(e,t,s){const i=new n.OrbitControls(e,t.domElement);i.target.set(0,5,0),i.update();const a=new r.GUI;a.addColor(new o.default(s,"color"),"value").name("color"),a.add(s,"intensity",0,2,.01)}},"./src/js/components/fog.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createFog:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(e,t,s){return new n.Fog(e,t,s)}},"./src/js/components/lights.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createLights:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(e,t){const s=new n.DirectionalLight(e,t);return s.position.set(-10,10,10),s}},"./src/js/components/renderer.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{createRenderer:()=>r});var n=s("./node_modules/three/build/three.module.js");function r(){const e=new n.WebGLRenderer({antialising:!0});return e.setSize(window.innerWidth,window.innerHeight),e.physicallyCorrectLights=!0,e.setPixelRatio(2),e.shadowMapEnabled=!0,document.body.append(e.domElement),e}},"./src/js/data/config.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const n={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:s("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!0,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/ColorGUIHelper.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});class n{constructor(e,t){this.object=e,this.prop=t}get value(){return`#${this.object[this.prop].getHexString()}`}set value(e){this.object[this.prop].set(e)}}},"./src/js/utils/detector.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,s,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,s=void 0!==e.id?e.id:"oldie",(n=this.getWebGLErrorMessage()).id=s,t.appendChild(n)}}},"./src/css/app.scss":(e,t,s)=>{"use strict";s.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9UcmFpbi9UcmFpbi5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVHJhaW4vZ2VvbWV0cmllcy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvVHJhaW4vbWF0ZXJpYWxzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9UcmFpbi9tZXNoZXMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9jb21wb25lbnRzL2ZvZy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2NvbXBvbmVudHMvbGlnaHRzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvY29tcG9uZW50cy9yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2RhdGEvY29uZmlnLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvQ29sb3JHVUlIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9kZXRlY3Rvci5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiQ29uZmlnIiwiRGV0ZWN0b3IiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiVGV4dHVyZSIsInJlbmRlciIsImluaXQiLCJjbG9jayIsIlRIUkVFIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY2FtZXJhIiwiY3JlYXRlQ2FtZXJhIiwibG9va0F0IiwicmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsInNjZW5lIiwiY29sb3IiLCJsaWdodCIsImNyZWF0ZUxpZ2h0cyIsImFkZCIsInRhcmdldCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJmb2ciLCJjcmVhdGVGb2ciLCJjcmVhdGVDb250cm9scyIsInRyYWluIiwiVHJhaW4iLCJiaW5kIiwidGltZSIsImkiLCJzZXRBbmltYXRpb25Mb29wIiwidGljayIsImdldERlbHRhIiwid2hlZWxTcGVlZCIsIk1hdGhVdGlscyIsIkdyb3VwIiwic3VwZXIiLCJtZXNoZXMiLCJjcmVhdGVNZXNoZXMiLCJmYWNlIiwibm9zZSIsImNhYmluIiwiY2hpbW5leSIsInNtYWxsV2hlZWxSZWFyIiwic21hbGxXaGVlbENlbnRlciIsInNtYWxsV2hlZWxGcm9udCIsImJpZ1doZWVsIiwid2hlZWxzIiwiZGVsdGEiLCJmb3JFYWNoIiwid2hlZWwiLCJyb3RhdGlvbiIsInkiLCJjcmVhdGVHZW9tZXRyaWVzIiwiQm94QnVmZmVyR2VvbWV0cnkiLCJDeWxpbmRlckJ1ZmZlckdlb21ldHJ5IiwiQ2lyY2xlR2VvbWV0cnkiLCJjcmVhdGVNYXRlcmlhbHMiLCJib2R5IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJmbGF0U2hhZGluZyIsImRldGFpbCIsInRleHR1cmUiLCJUZXh0dXJlTG9hZGVyIiwibG9hZCIsInJlcGVhdCIsInNldCIsIm9mZnNldCIsIm1hcCIsImdlb21ldHJpZXMiLCJtYXRlcmlhbHMiLCJNZXNoIiwicG9zaXRpb24iLCJ6IiwiTWF0aCIsIlBJIiwieCIsImNsb25lIiwic2NhbGUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNvbnRyb2xzIiwiT3JiaXRDb250cm9scyIsImRvbUVsZW1lbnQiLCJ1cGRhdGUiLCJndWkiLCJHVUkiLCJhZGRDb2xvciIsIkNvbG9yR1VJSGVscGVyIiwibmFtZSIsIm5lYXIiLCJmYXIiLCJGb2ciLCJpbnRlbnNpdHkiLCJEaXJlY3Rpb25hbExpZ2h0IiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlzaW5nIiwic2V0U2l6ZSIsInBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzIiwic2V0UGl4ZWxSYXRpbyIsInNoYWRvd01hcEVuYWJsZWQiLCJhcHBlbmQiLCJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNMb2FkZWQiLCJpc1R3ZWVuaW5nIiwiaXNSb3RhdGluZyIsImlzTW91c2VNb3ZpbmciLCJpc01vdXNlT3ZlciIsIm1heEFuaXNvdHJvcHkiLCJkcHIiLCJlYXNpbmciLCJUV0VFTiIsImR1cmF0aW9uIiwibW9kZWwiLCJzZWxlY3RlZCIsImluaXRpYWxUeXBlcyIsInR5cGUiLCJtb2RlbHMiLCJwYXRoIiwiaW1hZ2VGaWxlcyIsImltYWdlIiwibWVzaCIsImVuYWJsZUhlbHBlciIsIndpcmVmcmFtZSIsInRyYW5zbHVjZW50IiwibWF0ZXJpYWwiLCJlbWlzc2l2ZSIsImZvdiIsImFzcGVjdCIsInBvc1giLCJwb3NZIiwicG9zWiIsImF1dG9Sb3RhdGUiLCJhdXRvUm90YXRlU3BlZWQiLCJyb3RhdGVTcGVlZCIsInpvb21TcGVlZCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJtaW5Qb2xhckFuZ2xlIiwibWF4UG9sYXJBbmdsZSIsIm1pbkF6aW11dGhBbmdsZSIsIkluZmluaXR5IiwibWF4QXppbXV0aEFuZ2xlIiwiZW5hYmxlRGFtcGluZyIsImRhbXBpbmdGYWN0b3IiLCJlbmFibGVab29tIiwiYW1iaWVudExpZ2h0IiwiZW5hYmxlZCIsImRpcmVjdGlvbmFsTGlnaHQiLCJzaGFkb3ciLCJoZWxwZXJFbmFibGVkIiwiYmlhcyIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwicG9pbnRMaWdodCIsImRpc3RhbmNlIiwiaGVtaUxpZ2h0IiwiZ3JvdW5kQ29sb3IiLCJvYmplY3QiLCJwcm9wIiwiZ2V0SGV4U3RyaW5nIiwiaGV4U3RyaW5nIiwiY2FudmFzIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwid2ViZ2wiLCJjcmVhdGVFbGVtZW50IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0Q29udGV4dCIsImUiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJCbG9iIiwiZ2V0V2ViR0xFcnJvck1lc3NhZ2UiLCJlbGVtZW50IiwiaWQiLCJzdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwid2lkdGgiLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJqb2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyYW1ldGVycyIsInBhcmVudCIsInVuZGVmaW5lZCIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiO2lTQVNFQSxRQUFRQyxJQUFJLDJDQUVaQyxpQkFBZSxFQUdqQixXQUVFLEdBQUlDLGdCQUVHLENBQ2FDLFNBQVNDLGVBQWUsaUJBQy9CLElBQUlDLFdBQ1ZDLE9BQU8sR0FBSSxRQUpoQkosK0JBUUpLLEksc1dDZEEsTUFBTUMsRUFBUSxJQUFJQyxRQUlILE1BQU1KLEVBQ2pCSyxjQUlJQyxLQUFLQyxRQUFTQyxvQkFDaEJG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LHdCQUNQRSxHQUFLQSxFQUViYSxFQUFPRSxZQUFZaEIsTSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb25maWcgZnJvbSAnLi9kYXRhL2NvbmZpZyc7XG5pbXBvcnQgRGV0ZWN0b3IgZnJvbSAnLi91dGlscy9kZXRlY3Rvcic7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL2FwcC9tYWluJztcblxuLy8gU3R5bGVzXG5pbXBvcnQgJy4vLi4vY3NzL2FwcC5zY3NzJztcblxuLy8gQ2hlY2sgZW52aXJvbm1lbnQgYW5kIHNldCB0aGUgQ29uZmlnIGhlbHBlclxuaWYoX19FTlZfXyA9PT0gJ2RldicpIHtcbiAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpO1xuXG4gIENvbmZpZy5pc0RldiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIC8vIENoZWNrIGZvciB3ZWJHTCBjYXBhYmlsaXRpZXNcbiAgaWYoIURldGVjdG9yLndlYmdsKSB7XG4gICAgRGV0ZWN0b3IuYWRkR2V0V2ViR0xNZXNzYWdlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcENvbnRhaW5lcicpO1xuICAgIGxldCBoYW5rID0gbmV3IFRleHR1cmUoKTtcbiAgICBoYW5rLnJlbmRlcigyMCwgMClcbiAgfVxufVxuXG5pbml0KCk7XG4iLCIvLyBHbG9iYWwgaW1wb3J0cyAtXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQge0J1ZmZlckdlb21ldHJ5VXRpbHN9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS91dGlscy9CdWZmZXJHZW9tZXRyeVV0aWxzLmpzJ1xuaW1wb3J0IHtjcmVhdGVDYW1lcmF9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FtZXJhLmpzJ1xuaW1wb3J0IHtjcmVhdGVMaWdodHN9IGZyb20gJy4uL2NvbXBvbmVudHMvbGlnaHRzLmpzJ1xuaW1wb3J0IHtjcmVhdGVSZW5kZXJlcn0gZnJvbSAnLi4vY29tcG9uZW50cy9yZW5kZXJlci5qcydcbmltcG9ydCB7IGNyZWF0ZUZvZ30gZnJvbSAnLi4vY29tcG9uZW50cy9mb2cuanMnXG5pbXBvcnQge2NyZWF0ZUNvbnRyb2xzfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnRyb2xzLmpzJ1xuaW1wb3J0IHsgVHJhaW4gfSBmcm9tICcuLi9jb21wb25lbnRzL1RyYWluL1RyYWluLmpzJ1xuXG5cbmNvbnN0IGNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKClcblxuXG4vLyBUaGlzIGNsYXNzIGluc3RhbnRpYXRlcyBhbmQgdGllcyBhbGwgb2YgdGhlIGNvbXBvbmVudHMgdG9nZXRoZXIsIHN0YXJ0cyB0aGUgbG9hZGluZyBwcm9jZXNzIGFuZCByZW5kZXJzIHRoZSBtYWluIGxvb3BcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBzZXQgdXAgc2NlbmVcbiAgICAgICAgLy8gQ0FNRVJBXG4gICAgICAgIC8vIGZvdiwgYXNwZWN0LCBuZWFyLCBmYXJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjcmVhdGVDYW1lcmEoKVxuICAgICAgdGhpcy5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDUwMDAsMjAwLCAyMDAwMCkpXG4gICAgICAgIC8vIFNDRU5FICYgUkVOREVSXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcigpXG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuICAgICAgICAvL0xJR0hUU1xuICAgICAgICBjb25zdCBjb2xvciA9IDB4RkZGRkZGXG4gICAgICAgIGNvbnN0IGludGVuc2l0eSA9IDRcbiAgICAgICAgdGhpcy5saWdodCA9IGNyZWF0ZUxpZ2h0cyhjb2xvciwgaW50ZW5zaXR5KVxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmxpZ2h0LnRhcmdldClcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5saWdodCwgbmV3IFRIUkVFLkFtYmllbnRMaWdodChjb2xvciwgMC41KSlcblxuICAgICAgICAvL0JBQ0tHUk9VTkQgJiBGT0dcbiAgICAgICAgbGV0IGJhY2tncm91bmRDb2xvciA9IG5ldyBUSFJFRS5Db2xvcignbGlnaHRibHVlJylcbiAgICAgICAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZENvbG9yXG4gICAgICAgIHRoaXMuc2NlbmUuZm9nID0gY3JlYXRlRm9nKGJhY2tncm91bmRDb2xvciwgMTUwMDAsIDI1MDAwKVxuICAgICAgICAvLyBDT05UUk9MU1xuICAgICAgICBjcmVhdGVDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlciwgdGhpcy5saWdodClcbiAgICAgICAgICAgLy8gc2hhcGVzICYgdGV4dHVyZXNcbiAgICAgICAgY29uc3QgdHJhaW4gPSBuZXcgVHJhaW4oKVxuICAgICAgICB0aGlzLnRyYWluID0gdHJhaW5cbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodHJhaW4pXG5cbiAgICAgICAgLy9iaW5kIGNsYXNzIGZ1bmN0aW9uc1xuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcykgLy9iaW5kIHRvIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxuXG4gICAgfVxuXG4gICAgcmVuZGVyKHRpbWUsIGkpIHtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEFuaW1hdGlvbkxvb3AoKCkgPT4ge1xuICAgICAgICBjb25zdCB4U3BkID0gdGltZSAqLTAuMDAwMDVcbiAgICAgICAgLy9UT0RPOiB1cGRhdGUgdG8gcHJvcGVyIGFuaW1hdGlvbiBsb29wIHBlciBodHRwczovL2Rpc2NvdmVydGhyZWVqcy5jb20vYm9vay9maXJzdC1zdGVwcy9hbmltYXRpb24tbG9vcC8jdGltaW5nLWluLXRoZS1hbmltYXRpb24tc3lzdGVtXG4gICAgICAgIHRoaXMudHJhaW4udGljayhjbG9jay5nZXREZWx0YSgpKVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSlcbn0pXG5cblxufVxufVxuIiwiaW1wb3J0IHsgR3JvdXAsIE1hdGhVdGlscyB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlR2VvbWV0cmllcyB9IGZyb20gXCIuL2dlb21ldHJpZXMuanNcIlxuaW1wb3J0IHsgY3JlYXRlTWF0ZXJpYWxzIH0gZnJvbSBcIi4vbWF0ZXJpYWxzLmpzXCJcbmltcG9ydCB7IGNyZWF0ZU1lc2hlcyB9IGZyb20gXCIuL21lc2hlcy5qc1wiXG5cbmNvbnN0IHdoZWVsU3BlZWQgPSBNYXRoVXRpbHMuZGVnVG9SYWQoMjQpXG5cbmNsYXNzIFRyYWluIGV4dGVuZHMgR3JvdXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5tZXNoZXMgPSBjcmVhdGVNZXNoZXMoKVxuICAgIHRoaXMuYWRkKFxuICAgICAgdGhpcy5tZXNoZXMuZmFjZSxcbiAgICAgIHRoaXMubWVzaGVzLm5vc2UsXG4gICAgICB0aGlzLm1lc2hlcy5jYWJpbixcbiAgICAgIHRoaXMubWVzaGVzLmNoaW1uZXksXG4gICAgICB0aGlzLm1lc2hlcy5zbWFsbFdoZWVsUmVhcixcbiAgICAgIHRoaXMubWVzaGVzLnNtYWxsV2hlZWxDZW50ZXIsXG4gICAgICB0aGlzLm1lc2hlcy5zbWFsbFdoZWVsRnJvbnQsXG4gICAgICB0aGlzLm1lc2hlcy5iaWdXaGVlbFxuICAgIClcbiAgICB0aGlzLndoZWVscyA9IFt0aGlzLm1lc2hlcy5zbWFsbFdoZWVsUmVhcixcbiAgICAgIHRoaXMubWVzaGVzLnNtYWxsV2hlZWxDZW50ZXIsXG4gICAgICB0aGlzLm1lc2hlcy5zbWFsbFdoZWVsRnJvbnQsXG4gICAgICB0aGlzLm1lc2hlcy5iaWdXaGVlbF1cblxuICB9XG4gIHRpY2soZGVsdGEpIHtcbiAgICB0aGlzLndoZWVscy5mb3JFYWNoKHdoZWVsID0+IHtcbiAgICAgIHdoZWVsLnJvdGF0aW9uLnkgKz0gd2hlZWxTcGVlZCAqIGRlbHRhXG4gICAgfSlcblxuICB9XG59XG5cblxuZXhwb3J0IHsgVHJhaW4gfVxuIiwiaW1wb3J0IHtCb3hCdWZmZXJHZW9tZXRyeSwgQ2lyY2xlR2VvbWV0cnksIEN5bGluZGVyQnVmZmVyR2VvbWV0cnl9IGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBjcmVhdGVHZW9tZXRyaWVzKCkge1xuICBjb25zdCBjYWJpbiA9IG5ldyBCb3hCdWZmZXJHZW9tZXRyeSgyLCAyLjI1LCAxLjUpXG4gIGNvbnN0IG5vc2UgPSBuZXcgQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSgwLjc1LCAwLjc1LCAzLCAxMilcbiAgY29uc3QgZmFjZSA9IG5ldyBDaXJjbGVHZW9tZXRyeSgwLjc1LCAxMilcblxuICAvLyBUT0RPIGFkZCBjaXJjbGUgZm9yIHRob21hcyB0aGUgdGFuayBlbmdpbmVcbiAgY29uc3Qgd2hlZWwgPSBuZXcgQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSgwLjQsIDAuNCwgMS43NSwgMTYpXG4gIGNvbnN0IGNoaW1uZXkgPSBuZXcgQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSgwLjMsIDAuMSwgMC41KVxuICByZXR1cm4ge1xuICAgIGNhYmluLFxuICAgIG5vc2UsXG4gICAgd2hlZWwsXG4gICAgY2hpbW5leSxcbiAgICBmYWNlXG4gIH1cblxufVxuXG5leHBvcnQgeyBjcmVhdGVHZW9tZXRyaWVzIH1cbiIsImltcG9ydCB7IE1lc2hTdGFuZGFyZE1hdGVyaWFsLCBUZXh0dXJlTG9hZGVyIH0gZnJvbSAndGhyZWUnXG5cbmZ1bmN0aW9uIGNyZWF0ZU1hdGVyaWFscygpIHtcbiAgY29uc3QgYm9keSA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgY29sb3I6ICdjeWFuJyxcbiAgICBmbGF0U2hhZGluZzogdHJ1ZVxuICB9KVxuICBjb25zdCBkZXRhaWwgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAnbGlnaHRHcmF5JyxcbiAgICBmbGF0U2hhZGluZzogdHJ1ZVxuICB9KVxuXG4gIGNvbnN0IGxvYWRlciA9IG5ldyBUZXh0dXJlTG9hZGVyKClcbiAgY29uc3QgdGV4dHVyZT0gIGxvYWRlci5sb2FkKCd0aG9tYXMucG5nJylcbiAgdGV4dHVyZS5yZXBlYXQuc2V0KDAuNSwgMC41KVxuICB0ZXh0dXJlLm9mZnNldC5zZXQoMC41KVxuICBjb25zdCBmYWNlID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICBtYXA6IHRleHR1cmUsXG4gICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgfSlcbiAgcmV0dXJuIHsgYm9keSwgZGV0YWlsLCBmYWNlfVxufVxuXG5leHBvcnQgeyBjcmVhdGVNYXRlcmlhbHMgfVxuIiwiaW1wb3J0IHsgTWVzaCB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlR2VvbWV0cmllcyB9IGZyb20gJy4vZ2VvbWV0cmllcy5qcydcbmltcG9ydCB7IGNyZWF0ZU1hdGVyaWFscyB9IGZyb20gJy4vbWF0ZXJpYWxzLmpzJ1xuXG5mdW5jdGlvbiBjcmVhdGVNZXNoZXMoKSB7XG4gIGNvbnN0IGdlb21ldHJpZXMgPSBjcmVhdGVHZW9tZXRyaWVzKCk7XG4gIGNvbnN0IG1hdGVyaWFscyA9IGNyZWF0ZU1hdGVyaWFscygpXG5cbiAgY29uc3QgY2FiaW4gPSBuZXcgTWVzaChnZW9tZXRyaWVzLmNhYmluLCBtYXRlcmlhbHMuYm9keSlcbiAgY2FiaW4ucG9zaXRpb24uc2V0KDEuNSwgMS40LCAwKVxuXG4gIGNvbnN0IGNoaW1uZXkgPSBuZXcgTWVzaChnZW9tZXRyaWVzLmNoaW1uZXksIG1hdGVyaWFscy5kZXRhaWwpXG4gIGNoaW1uZXkucG9zaXRpb24uc2V0KC0yLCAxLjksIDApXG5cbiAgY29uc3Qgbm9zZSA9IG5ldyBNZXNoIChnZW9tZXRyaWVzLm5vc2UsIG1hdGVyaWFscy5ib2R5KVxuICBub3NlLnBvc2l0aW9uLnNldCgtMSwgMSwgMClcbiAgbm9zZS5yb3RhdGlvbi56ID0gTWF0aC5QSSAvIDJcbiAgY29uc3QgZmFjZSA9IG5ldyBNZXNoKGdlb21ldHJpZXMuZmFjZSwgbWF0ZXJpYWxzLmZhY2UpXG4gIGZhY2UucG9zaXRpb24uc2V0KC0yLjYsIDEsIDApXG4gIGZhY2Uucm90YXRpb24ueSA9IC0gTWF0aC5QSSAvIDJcblxuICBjb25zdCBzbWFsbFdoZWVsUmVhciA9IG5ldyBNZXNoKGdlb21ldHJpZXMud2hlZWwsIG1hdGVyaWFscy5kZXRhaWwpXG4gIHNtYWxsV2hlZWxSZWFyLnBvc2l0aW9uLnkgPSAwLjVcbiAgc21hbGxXaGVlbFJlYXIucm90YXRpb24ueCA9IE1hdGguUEkgLyAyXG5cbiAgY29uc3Qgc21hbGxXaGVlbENlbnRlciA9IHNtYWxsV2hlZWxSZWFyLmNsb25lKCk7XG4gIHNtYWxsV2hlZWxDZW50ZXIucG9zaXRpb24ueCA9IC0xO1xuXG4gIGNvbnN0IHNtYWxsV2hlZWxGcm9udCA9IHNtYWxsV2hlZWxSZWFyLmNsb25lKCk7XG4gIHNtYWxsV2hlZWxGcm9udC5wb3NpdGlvbi54ID0gLTI7XG5cbiAgY29uc3QgYmlnV2hlZWwgPSBzbWFsbFdoZWVsUmVhci5jbG9uZSgpO1xuICBiaWdXaGVlbC5wb3NpdGlvbi5zZXQoMS41LCAwLjksIDApO1xuICBiaWdXaGVlbC5zY2FsZS5zZXQoMiwgMS4yNSwgMik7XG5cbiAgcmV0dXJuIHtcbiAgICBmYWNlLFxuICAgIG5vc2UsXG4gICAgY2FiaW4sXG4gICAgY2hpbW5leSxcbiAgICBzbWFsbFdoZWVsUmVhcixcbiAgICBzbWFsbFdoZWVsQ2VudGVyLFxuICAgIHNtYWxsV2hlZWxGcm9udCxcbiAgICBiaWdXaGVlbFxuICB9XG59XG5leHBvcnQgeyBjcmVhdGVNZXNoZXMgfVxuIiwiaW1wb3J0IHsgUGVyc3BlY3RpdmVDYW1lcmEgfSBmcm9tICd0aHJlZSdcbi8vVE9ETyBhY3R1YWxseSBhZGQgYXJncy9tYWtlIHRoaXMgZ29vZFxuZnVuY3Rpb24gY3JlYXRlQ2FtZXJhKCkge1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg2MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMzAwKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDUsIDAsIDUpXG4gICAgcmV0dXJuIGNhbWVyYVxufVxuZXhwb3J0IHtjcmVhdGVDYW1lcmF9XG5cbiIsImltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scy5qcyc7XG5pbXBvcnQgeyBHVUkgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbGlicy9saWwtZ3VpLm1vZHVsZS5taW4uanMnXG5pbXBvcnQgQ29sb3JHVUlIZWxwZXIgZnJvbSAnLi4vdXRpbHMvQ29sb3JHVUlIZWxwZXIuanMnXG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xzKGNhbWVyYSwgcmVuZGVyZXIsIGxpZ2h0KSB7XG4gICAvLyBjYW1lcmFcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KVxuICAgICAgICBjb250cm9scy50YXJnZXQuc2V0KDAsIDUsIDApXG4gICAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpXG4gICAgICAgIC8vbGlnaHQgZ3VpXG4gICAgICAgIGNvbnN0IGd1aSA9IG5ldyBHVUkoKVxuICAgICAgICBndWkuYWRkQ29sb3IobmV3IENvbG9yR1VJSGVscGVyKGxpZ2h0LCAnY29sb3InKSwgJ3ZhbHVlJykubmFtZSgnY29sb3InKVxuICAgICAgICBndWkuYWRkKGxpZ2h0LCAnaW50ZW5zaXR5JywgMCwgMiwgMC4wMSlcbn1cblxuZXhwb3J0IHtjcmVhdGVDb250cm9sc31cbiIsImltcG9ydCB7IEZvZyB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlRm9nKGJhY2tncm91bmRDb2xvciwgbmVhciwgZmFyKSB7XG4gICAgICByZXR1cm4gbmV3IEZvZyhiYWNrZ3JvdW5kQ29sb3IsIG5lYXIsIGZhcik7XG59XG5cbmV4cG9ydCB7Y3JlYXRlRm9nfVxuIiwiaW1wb3J0IHsgRGlyZWN0aW9uYWxMaWdodCB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlTGlnaHRzKGNvbG9yLCBpbnRlbnNpdHkpIHtcbiAgICAgICAgY29uc3QgbGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodChjb2xvciwgaW50ZW5zaXR5KTtcbiAgICAgICAgbGlnaHQucG9zaXRpb24uc2V0KC0xMCwgMTAsIDEwKVxuICAgICAgICByZXR1cm4gbGlnaHRcbn1cbmV4cG9ydCB7Y3JlYXRlTGlnaHRzfVxuXG4iLCJpbXBvcnQgIHsgV2ViR0xSZW5kZXJlciB9IGZyb20gJ3RocmVlJ1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe2FudGlhbGlzaW5nOiB0cnVlfSk7XG4gIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbiAgcmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbygyLjApXG4gICAgICByZW5kZXJlci5zaGFkb3dNYXBFbmFibGVkID0gdHJ1ZVxuICAgICAgICAvL2NhbWVyYSBoZWxwZXIsIGlmIG5lZWRlZFxuLy8gICAgICAgIHRoaXMuc2NlbmUuYWRkKG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5jYW1lcmEpKVxuICAgICAgICAvL2RvIG5vdCBldmVyIGRlbGV0ZSBtZVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChyZW5kZXJlci5kb21FbGVtZW50KVxuICAgIHJldHVybiByZW5kZXJlclxuXG59XG5leHBvcnQge2NyZWF0ZVJlbmRlcmVyfVxuIiwiaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcblxuLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHN0YXRlIG9mIHRoZSBhcHBcbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNEZXY6IGZhbHNlLFxuICBpc1Nob3dpbmdTdGF0czogdHJ1ZSxcbiAgaXNMb2FkZWQ6IGZhbHNlLFxuICBpc1R3ZWVuaW5nOiBmYWxzZSxcbiAgaXNSb3RhdGluZzogdHJ1ZSxcbiAgaXNNb3VzZU1vdmluZzogZmFsc2UsXG4gIGlzTW91c2VPdmVyOiBmYWxzZSxcbiAgbWF4QW5pc290cm9weTogMSxcbiAgZHByOiAxLFxuICBlYXNpbmc6IFRXRUVOLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsXG4gIGR1cmF0aW9uOiA1MDAsXG4gIG1vZGVsOiB7XG4gICAgc2VsZWN0ZWQ6IDAsXG4gICAgaW5pdGlhbFR5cGVzOiBbJ2dsdGYnLCAnb2JqZWN0J10sXG4gICAgdHlwZTogJ2dsdGYnXG4gIH0sXG4gIG1vZGVsczogW1xuICAgIHtcbiAgICAgIHBhdGg6ICcuL2Fzc2V0cy9tb2RlbHMvZHVjay5nbHRmJyxcbiAgICAgIHNjYWxlOiAyMCxcbiAgICAgIHR5cGU6ICdnbHRmJ1xuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogJy4vYXNzZXRzL21vZGVscy9UZWFwb3QuanNvbicsXG4gICAgICBzY2FsZTogMjAsXG4gICAgICB0eXBlOiAnb2JqZWN0J1xuICAgIH1cbiAgXSxcbiAgdGV4dHVyZToge1xuICAgIHBhdGg6ICcuL2Fzc2V0cy90ZXh0dXJlcy8nLFxuICAgIGltYWdlRmlsZXM6IFtcbiAgICAgIHsgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfVxuICAgIF1cbiAgfSxcbiAgbWVzaDoge1xuICAgIGVuYWJsZUhlbHBlcjogdHJ1ZSxcbiAgICB3aXJlZnJhbWU6IGZhbHNlLFxuICAgIHRyYW5zbHVjZW50OiBmYWxzZSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXG4gICAgfVxuICB9LFxuICBmb2c6IHtcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgbmVhcjogMC4wMDA4XG4gIH0sXG4gIGNhbWVyYToge1xuICAgIGZvdjogNDAsXG4gICAgbmVhcjogMixcbiAgICBmYXI6IDEwMDAsXG4gICAgYXNwZWN0OiAxLFxuICAgIHBvc1g6IDAsXG4gICAgcG9zWTogMzAsXG4gICAgcG9zWjogNDBcbiAgfSxcbiAgY29udHJvbHM6IHtcbiAgICBhdXRvUm90YXRlOiB0cnVlLFxuICAgIGF1dG9Sb3RhdGVTcGVlZDogLTAuNSxcbiAgICByb3RhdGVTcGVlZDogMC41LFxuICAgIHpvb21TcGVlZDogMC44LFxuICAgIG1pbkRpc3RhbmNlOiAyMDAsXG4gICAgbWF4RGlzdGFuY2U6IDYwMCxcbiAgICBtaW5Qb2xhckFuZ2xlOiBNYXRoLlBJIC8gNSxcbiAgICBtYXhQb2xhckFuZ2xlOiBNYXRoLlBJIC8gMixcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhBemltdXRoQW5nbGU6IEluZmluaXR5LFxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxuICAgIGVuYWJsZVpvb206IHRydWUsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDBcbiAgICB9XG4gIH0sXG4gIGFtYmllbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4MTQxNDE0XG4gIH0sXG4gIGRpcmVjdGlvbmFsTGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweGYwZjBmMCxcbiAgICBpbnRlbnNpdHk6IDAuNCxcbiAgICB4OiAtNzUsXG4gICAgeTogMjgwLFxuICAgIHo6IDE1MFxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGhlbHBlckVuYWJsZWQ6IHRydWUsXG4gICAgYmlhczogMCxcbiAgICBtYXBXaWR0aDogMjA0OCxcbiAgICBtYXBIZWlnaHQ6IDIwNDgsXG4gICAgbmVhcjogMjUwLFxuICAgIGZhcjogNDAwLFxuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAtMTAwLFxuICAgIGxlZnQ6IC0xMDBcbiAgfSxcbiAgcG9pbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC4zNCxcbiAgICBkaXN0YW5jZTogMTE1LFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB6OiAwXG4gIH0sXG4gIGhlbWlMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4YzhjOGM4LFxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcbiAgICBpbnRlbnNpdHk6IDAuNTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yR1VJSGVscGVyIHtcbiAgICAgIGNvbnN0cnVjdG9yKG9iamVjdCwgcHJvcCkge1xuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgIH1cbiAgICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGAjJHt0aGlzLm9iamVjdFt0aGlzLnByb3BdLmdldEhleFN0cmluZygpfWA7XG4gICAgICB9XG4gICAgICBzZXQgdmFsdWUoaGV4U3RyaW5nKSB7XG4gICAgICAgIHRoaXMub2JqZWN0W3RoaXMucHJvcF0uc2V0KGhleFN0cmluZyk7XG4gICAgICB9XG59XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxuICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuICAgIGlmKCF0aGlzLndlYmdsKSB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgIF0uam9pbignXFxuJykgOiBbXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgcGFyZW50ID0gcGFyYW1ldGVycy5wYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMucGFyZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcbiAgICBlbGVtZW50LmlkID0gaWQ7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9